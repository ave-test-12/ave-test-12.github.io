const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./drAD_v2S.js","./CG6fUgW6.js","./entry.BYdG5lDj.css","./oNZH7M2F.js","./Bj2eNHCi.js","./scrollbar.wwf0UyhQ.css","./select.BgXUnjTk.css","./CfvTv29U.js","./vLoading.DzkBmIP9.css","./CtxNzILp.js","./BurebIww.js","./visibleChange.B6TrAqUJ.css","./DQCrn0z3.js","./Cqh_xI8S.js","./ORd010yC.js","./r4UMkLbL.js","./BSf33wkF.js","./BW5GcoVX.js","./input-number.HwP0nlBD.css","./tTQuEBNs.js","./switch.DT829VzR.css","./slippageSet.ClxasooL.css","./slippageSetMarket.CAh9oLhf.css","./BxfyZKcW.js","./table.D1Uy_Ymd.css","./tabs.Bq1v7sO2.css","./FtsUUl6i.js","./limit.CqaJfbDg.css"])))=>i.map(i=>d[i]);
import{f as e,R as l,v as a,g as n,c as o,o as t,F as u,D as s,G as i,i as r,bM as d,a as v,t as c,_ as m,K as p,w as f,M as k,B as b,U as h,b as T,a5 as y,C as g,am as x,J as w,cv as _,$ as S,aN as I,r as A,m as N,nK as $,E as F,s as C,N as P,bZ as R,bd as M,bx as V,nL as E,aE as U,e3 as D,H as B,d as O,aZ as H,bg as j,aH as L,X as W,a4 as z,nM as q,a0 as X,fj as K,T as Z,b3 as Q,bo as G,nN as J,cU as Y,nO as ee,bP as le,I as ae,ay as ne,cf as oe,fl as te,nP as ue,nQ as se,e0 as ie,nR as re,dc as de,dd as ve,fh as ce,nS as me,bN as pe,P as fe,fb as ke,aI as be,aJ as he,nT as Te,Q as ye,ct as ge,nU as xe,nV as we,fc as _e,cx as Se,fe as Ie,nW as Ae,nX as Ne,nY as $e,nZ as Fe,ff as Ce,n_ as Pe,fi as Re,n$ as Me,fd as Ve,o0 as Ee,o1 as Ue,o2 as De,fg as Be,o3 as Oe,o4 as He,fa as je,o5 as Le,fk as We,bR as ze,o6 as qe,o7 as Xe,as as Ke,an as Ze,ax as Qe,n as Ge}from"./CG6fUgW6.js";import{a as Je,E as Ye}from"./Cqh_xI8S.js";import{E as el}from"./Bj2eNHCi.js";import{E as ll,a as al}from"./r4UMkLbL.js";import{E as nl}from"./BSf33wkF.js";import{E as ol}from"./CtxNzILp.js";import{_ as tl}from"./FtsUUl6i.js";import{a as ul,b as sl}from"./DQCrn0z3.js";const il={class:"tabs"},rl=["disabled","onClick"],dl=m(e({__name:"tabs",props:{activeTab:{type:Number,default:0}},emits:["update:activeTab"],setup(e,{emit:m}){const p=l(),{t:f}=a(),k=m,b=["sui","solana","tron"],h=n((()=>[{name:f("buy"),value:0},{name:f("sell"),value:1}]));return(l,a)=>(t(),o("div",il,[(t(!0),o(u,null,s(r(h),((a,n)=>{var u,s,m;return t(),o("button",{key:n,class:i(["tab-item",{active:a.value===e.activeTab,[`tab-${a.value}`]:!0}]),type:"button",disabled:"evm"!==(null==(s=("getChainInfo"in l?l.getChainInfo:r(d))((null==(u=r(p))?void 0:u.chain)||""))?void 0:s.vm_type)&&!b.includes((null==(m=r(p))?void 0:m.chain)||""),onClick:e=>{return l=a.value,void k("update:activeTab",l);var l}},[v("span",null,c(a.name),1)],10,rl)})),128))]))}}),[["__scopeId","data-v-74ae2df7"]]),vl=m(e({__name:"typeTabs",props:{isOnlyMarket:{type:Boolean,default:!1},tab:{type:Number,default:0}},emits:["update:tab"],setup(e,{emit:i}){const d=e,v=i,c=l(),{t:m}=a(),k=n((()=>{if(d.isOnlyMarket)return[{name:m("swapT"),value:2}];return"solana"===(c.chain||"")?[{name:m("swapT"),value:2},{name:m("limitT"),value:0}]:[{name:m("swapT"),value:2},{name:m("limitT"),value:0},{name:m("stopLimit"),value:1}]}));return(l,a)=>{const n=Je,i=Ye;return t(),p(i,{"model-value":e.tab,class:"select-tabs","onUpdate:modelValue":a[0]||(a[0]=e=>v("update:tab",e))},{default:f((()=>[(t(!0),o(u,null,s(r(k),((e,l)=>(t(),p(n,{key:l,label:e.name,name:e.value},null,8,["label","name"])))),128))])),_:1},8,["model-value"])}}}),[["__scopeId","data-v-816d704f"]]),cl="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='11px'%20height='3px'%20viewBox='0%200%2011%203'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3e编组%3c/title%3e%3cg%20id='交易+挂单'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='交易-市价交易-买备份'%20transform='translate(-268.000000,%20-584.000000)'%20fill='%23999999'%20fill-rule='nonzero'%3e%3cg%20id='提示文案'%20transform='translate(14.000000,%20508.000000)'%3e%3cg%20id='编组-9备份-3'%20transform='translate(0.000000,%2063.000000)'%3e%3cg%20id='编组'%20transform='translate(254.000000,%2013.000000)'%3e%3cpolygon%20id='路径'%20points='9.53333333%200%2011%200%209.77777778%201.13999999%207.88333333%203%207.15%202.28%208.31111112%201.13999999%200%201.13999999%200%200'%3e%3c/polygon%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",ml={class:"history"},pl={key:0,class:"flex gap-5px mb-32px"},fl=["onClick"],kl={class:"flex-column mt-6px"},bl={class:"flex-start"},hl={class:"token-symbol font-14"},Tl={key:0,class:"risk-status high"},yl={class:"flex-start color-[--secondary-text] text-16px font-500 mb-10px"},gl={class:"ml-5px"},xl={class:"content color-[--main-text]"},wl=["onClick"],_l={class:"token-info"},Sl={class:"flex-column"},Il={class:"flex-start"},Al={class:"token-symbol font-14"},Nl={key:0,class:"risk-status high"},$l={key:0,class:"px-5px py-0 color-[--third-text]"},Fl={key:0,class:"flex flex-col text-right"},Cl=["innerHTML"],Pl=["innerHTML"],Rl={key:2,class:"empty"},Ml=m(e({__name:"searchTable",props:{searchTokens:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},disabledToken:{type:String,default:""}},emits:["onSelect"],setup(e,{emit:l}){const a=e,d=l;k().chainConfig;const m={bsc:{BNB:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WBNB:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",USDT:"0x55d398326f99059ff775485246999027b3197955",USDC:"0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d",USD1:"0x8d0d000ee44948fc98c9b98a4fa4921476f08b0d"},eth:{base:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WETH:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",USDT:"0xdac17f958d2ee523a2206206994597c13d831ec7",USDC:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",USD1:"0x8d0d000ee44948fc98c9b98a4fa4921476f08b0d"},base:{ETH:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WETH:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",USDT:"0xfde4c96c8593536e31f229ea8f37b2ada2699bb2",USDC:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913"},xlayer:{OKB:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WOKB:"0xe538905cf8410324e03a5a23c1c177a474d59b2b",USDT:"0x5b827940327c99e255ff498206703bffaa625a43",USDC:"0x74b7f16337b8972027f6196a17a631ac6de26d22"},solana:{SOL:"So11111111111111111111111111111111111111112",USDT:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"}},A=n((()=>{var e;const l=[...new Set(Object.values(m).flatMap((e=>Object.values(e))))];return null==(e=a.searchTokens)?void 0:e.filter((e=>null==l?void 0:l.includes(e.address||"")))}));function N(e){((null==e?void 0:e.address)||(null==e?void 0:e.token))&&a.disabledToken!==e.address&&d("onSelect",e)}return(l,a)=>{var n,d;const m=y,k=g,$=el,F=x;return t(),o("div",ml,[(null==(n=r(A))?void 0:n.length)>0?(t(),o("div",pl,[(t(!0),o(u,null,s(r(A),((e,a)=>(t(),o("div",{class:"item bg-[--border] rounded-12px px-12px py-12px flex flex-col items-center justify-center flex-1 max-w-20%",key:a,onClick:l=>N(e)},[T(m,{row:e,tokenClass:"w-32px h-32px"},null,8,["row"]),v("div",kl,[v("div",bl,[v("span",hl,c(e.symbol),1),(((null==e?void 0:e.risk_score)||0)>55||((null==e?void 0:e.risk_level)||0)<0)&&1!==e.risk_level?(t(),o("span",Tl,c(l.$t("highRisk")),1)):b("",!0)])])],8,fl)))),128))])):b("",!0),v("div",yl,[T(k,{class:"text-24px",name:"custom:my-token"}),v("span",gl,c(l.$t("myToken")),1)]),(null==(d=e.searchTokens)?void 0:d.length)>0?h((t(),p($,{key:1,height:"calc(45vh)",class:"hidden-scrollbar"},{default:f((()=>[v("ul",xl,[(t(!0),o(u,null,s(e.searchTokens,((a,n)=>{var u,s;return t(),o("li",{key:n,class:i([{disabled:e.disabledToken===a.address},"flex justify-between px-16px py-16px clickable hover:bg-[--dialog-list-hover]"]),onClick:w((e=>N(a)),["stop","prevent"])},[v("div",_l,[T(m,{class:"mr-5px",row:a,tokenClass:"w-40px h-40px"},null,8,["row"]),v("div",Sl,[v("div",Il,[v("span",Al,c(a.symbol),1),(((null==a?void 0:a.risk_score)||0)>55||((null==a?void 0:a.risk_level)||0)<0)&&1!==a.risk_level?(t(),o("span",Nl,c(l.$t("highRisk")),1)):b("",!0)]),(null==a?void 0:a.tags)||a.address===r(_)?b("",!0):(t(),o("span",$l,c(null==(u=a.token)?void 0:u.slice(0,4))+"**"+c(null==(s=a.token)?void 0:s.slice(-4)),1))])]),(a.amount||0)>0||(a.value||0)>0?(t(),o("div",Fl,[v("span",{class:"color-[--main-text]",innerHTML:`$ ${r(S)((a.current_price_usd||a.price||0)*((null==a?void 0:a.amount)||(null==a?void 0:a.value)||0))}`},null,8,Cl),v("span",{class:"color-[--third-text] py-2px",innerHTML:a.amount||a.value?r(S)((null==a?void 0:a.amount)||(null==a?void 0:a.value)||""):""},null,8,Pl)])):b("",!0)],10,wl)})),128))])])),_:1})),[[F,e.loading]]):(t(),o("div",Rl,[v("div",null,[a[0]||(a[0]=v("img",{src:I},null,-1)),a[1]||(a[1]=v("br",null,null,-1)),v("span",null,c(l.$t("noSearchResults")),1)])]))])}}}),[["__scopeId","data-v-9b58adf4"]]),Vl={class:"text-14px color-[--main-text] font-400 ml-3px"},El={key:1},Ul={class:"text-20px font-500"},Dl={class:"search-content mt-16px"},Bl=m(e({__name:"selectSwapToken",props:{tokens:{type:Array,default:()=>[]},token:{type:Object,default:()=>({token:"",address:"",symbol:"",logo_url:"",chain:""})},chain:{type:String,default:""},disabledToken:{type:String,default:""}},emits:["update:token"],setup(e,{emit:l}){const{t:s}=a(),d=e,m=l,k=A(!1),b=A(""),h=A(d.tokens||[]),x=A(!1),_=n((()=>{var e;return(null==(e=h.value)?void 0:e.length)>0?h.value:d.tokens||[]}));N(b,(e=>{""!==e?I():h.value=d.tokens})),N(k,(e=>{e&&(h.value=d.tokens||[],b.value="")}));let S=null;function I(){S&&(clearTimeout(S),S=null),S=setTimeout((()=>{!function(){var e;if(""!==b.value){const l=new RegExp(b.value,"i"),a=(null==(e=d.tokens)?void 0:e.filter((e=>l.test((null==e?void 0:e.address)||"")||l.test((null==e?void 0:e.symbol)||"")||l.test((null==e?void 0:e.name)||""))))||[];x.value=!0,$(b.value,d.chain).then((e=>{var l,n,o;const t=null==(o=null==(n=null==(l=e.filter)?void 0:l.call(e,(e=>e.chain===d.chain&&!a.some((l=>l.token===e.token)))))?void 0:n.map)?void 0:o.call(n,(e=>({...e,address:e.token})));h.value=[...a,...t]})).catch((e=>{h.value=[]})).finally((()=>{x.value=!1}))}else h.value=d.tokens}()}),500)}function M(e){var l,a;e.address!==d.disabledToken&&((null==e?void 0:e.address)||(null==e?void 0:e.token))&&(m("update:token",{...e,value:(null==(l=null==e?void 0:e.value)?void 0:l.toString())||0,balance:(null==(a=null==e?void 0:e.balance)?void 0:a.toString())||0}),k.value=!1)}return(e,l)=>{var a,n,m,h;const S=y,A=g,N=P,$=F;return t(),o(u,null,[v("button",{class:"flex items-center bg-transparent border-none p-0 clickable text-14px",type:"button",onClick:l[0]||(l[0]=w((e=>k.value=!0),["stop"]))},[(null==(a=d.token)?void 0:a.address)||(null==(n=d.token)?void 0:n.token)?(t(),o(u,{key:0},[(t(),p(S,{key:null==(m=d.token)?void 0:m.address,row:d.token},null,8,["row"])),v("span",Vl,c((null==(h=d.token)?void 0:h.symbol)||""),1)],64)):(t(),o("div",El,c(e.$t("pleaseSelectToken")),1)),T(A,{class:i(["arrow-up",{active:!0===r(k)}]),name:"solar:alt-arrow-down-bold"},null,8,["class"])]),T($,{modelValue:r(k),"onUpdate:modelValue":l[3]||(l[3]=e=>C(k)?k.value=e:null),"append-to-body":"",class:"new-dialog",width:"420px"},{header:f((()=>[v("span",Ul,c(r(s)("selectToken")),1)])),default:f((()=>[v("div",{class:"search-dialog-container",onClick:l[2]||(l[2]=w((()=>{}),["stop"]))},[T(N,{ref:"inputSearch",class:"search-input",modelValue:r(b),"onUpdate:modelValue":l[1]||(l[1]=e=>C(b)?b.value=e:null),modelModifiers:{trim:!0},placeholder:r(s)("enterAddress/token"),clearable:"",onKeydown:R(I,["enter"])},{prefix:f((()=>[T(A,{class:"text-16px text-[--third-text]",name:"custom:search"})])),_:1},8,["modelValue","placeholder"]),v("div",Dl,[T(Ml,{searchTokens:r(_),loading:r(x),disabledToken:d.disabledToken||d.token.address,onOnSelect:M},null,8,["searchTokens","loading","disabledToken"])])])])),_:1},8,["modelValue"])],64)}}}),[["__scopeId","data-v-c6e5211f"]]),Ol={class:"flex items-center"},Hl={key:0,class:"mr-5px color-[--main-text]"},jl={key:1,class:"mr-5px"},Ll={class:"text-18px color-#fff font-400"},Wl={class:"slippage-label"},zl={class:"mt-10px"},ql=["id","value","disabled"],Xl=["for"],Kl={class:"slippage-input"},Zl={key:0,class:"tip"},Ql={class:"form-submit"},Gl=m(e({__name:"slippageSet",props:{slippage:{type:[String,Number],default:"2"},autoSlippage:{type:String,default:"2"},canSetAuto:{type:Boolean,default:!0}},emits:["update:slippage"],setup(e,{emit:l}){const n=e,i=l,{t:d}=a(),m=[.1,.5,1],k=A("auto"===n.slippage?void 0:Number(n.slippage)),y=A(!1),x=A("auto"===n.slippage);function _(){void 0===k.value?i("update:slippage","auto"):i("update:slippage",String(k.value)),y.value=!1}function S(){H.alert(d("slippageTips"),{title:d("slippage"),confirmButtonText:d("iKnown")})}function I(){k.value&&Number(k.value)>49.99&&(k.value=49.99)}function $(e){return Number(e)<=49.99}return N(y,(e=>{e&&(k.value="auto"===n.slippage?void 0:Number(n.slippage))})),N(x,(e=>{e&&(k.value=void 0)})),(l,a)=>{const n=g,i=V,d=U,A=al,N=nl,P=ll,R=B,H=M,j=F;return t(),o("div",null,[v("div",Ol,[e.canSetAuto?(t(),o("span",Hl,c("auto"===e.slippage?l.$t("autoSlippage"):l.$t("manualSlippage"))+"("+c("auto"===e.slippage?e.autoSlippage:e.slippage)+"%) ",1)):(t(),o("span",jl,c(e.slippage)+"%",1)),T(n,{class:"clickable",name:"tdesign:setting-1",onClick:a[0]||(a[0]=w((e=>y.value=!0),["stop"]))})]),T(j,{modelValue:r(y),"onUpdate:modelValue":a[4]||(a[4]=e=>C(y)?y.value=e:null),width:"500px","append-to-body":""},{header:f((()=>[v("span",Ll,c(l.$t("setSlippage")),1)])),default:f((()=>[T(H,{class:"popup-content",onSubmit:w(_,["prevent"])},{default:f((()=>[v("div",Wl,[v("span",null,c(l.$t("slippage")),1),T(i,{size:15,color:"#80838B",style:{cursor:"pointer","margin-left":"5px","margin-right":"auto"},onClick:w(S,["stop"])},{default:f((()=>[T(r(E))])),_:1}),e.canSetAuto?(t(),p(d,{key:0,modelValue:r(x),"onUpdate:modelValue":a[1]||(a[1]=e=>C(x)?x.value=e:null),label:l.$t("autoSlippage"),size:"large"},null,8,["modelValue","label"])):b("",!0)]),v("div",zl,[T(P,{gutter:10},{default:f((()=>[(t(),o(u,null,s(m,((e,l)=>T(A,{key:l,span:6,class:"radio-group"},{default:f((()=>[h(v("input",{id:`radio-${e}`,"onUpdate:modelValue":a[2]||(a[2]=e=>C(k)?k.value=e:null),type:"radio",value:e,disabled:r(x),class:"radio-input"},null,8,ql),[[D,r(k)]]),v("label",{for:`radio-${e}`,class:"radio-item"},c(e)+"%",9,Xl)])),_:2},1024))),64)),T(A,{span:6},{default:f((()=>[v("div",Kl,[T(N,{modelValue:r(k),"onUpdate:modelValue":a[3]||(a[3]=e=>C(k)?k.value=e:null),class:"select bg-#212847 w-full",name:"slippage",type:"number",min:0,max:49.99,step:.01,disabled:r(x),"controls-position":"right",clearable:"",rules:[{required:!0,message:l.$t("enterSlippage")},{validator:$,message:l.$t("slippageMaxTip")}],onBlur:I},null,8,["modelValue","disabled","rules"]),a[5]||(a[5]=v("span",{class:"color-fff"},"%",-1))])])),_:1})])),_:1}),void 0!==r(k)&&Number(r(k))<=.1?(t(),o("span",Zl,c(l.$t("slippageTip1")),1)):b("",!0)]),v("div",Ql,[T(R,{class:"swap-button w-full rd-8px!",size:"large",block:"","native-type":"submit",type:"primary",disabled:0==e.slippage},{default:f((()=>[O(c(l.$t("confirm1")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-1eb2e286"]]),Jl={class:"token-item header"},Yl={class:"flex-3"},ea={class:"flex-1-5"},la={class:"flex-1 right-label"},aa=["onClick"],na={class:"token-item"},oa={class:"path-list flex-start flex-3"},ta={key:0},ua={key:1,class:"path-amm"},sa={key:0,class:"tag"},ia=["innerHTML"],ra=m(e({__name:"selectRouter",props:{visible:{type:Boolean,default:!1},listRouter:{type:Array,default:()=>[]},isAmount:{type:Boolean,default:!1},selectedRouterIndex:{type:Number,default:0}},emits:["getSelectedRouter","update:visible"],setup(e,{emit:l}){const a=e,i=l,d=n({get:()=>a.visible,set(e){i("update:visible",e)}});function m(e){return e>40?"#ff646d":e>10?"#F7933F":e>5?"#f8be46":""}return(l,a)=>{const n=ol,k=L,y=V,g=F;return t(),p(g,{modelValue:r(d),"onUpdate:modelValue":a[0]||(a[0]=e=>C(d)?d.value=e:null),class:"dialog-zixuan dialog",width:"600px"},{header:f((()=>[v("span",null,c(l.$t("selectRouter")),1)])),default:f((()=>[v("ul",null,[v("li",Jl,[v("span",Yl,c(l.$t("router")),1),v("span",ea,c(e.isAmount?l.$t("expectedAmount"):l.$t("expectedPay")),1),v("span",la,c(l.$t("priceImpact")),1),a[1]||(a[1]=v("span",{class:"w-16px"},null,-1))]),h(T(n,{image:r(I)},null,8,["image"]),[[j,e.listRouter&&0===e.listRouter.length]]),(t(!0),o(u,null,s(e.listRouter,((n,d)=>(t(),o("a",{key:d,href:"",onClick:w((e=>(e=>{i("getSelectedRouter",e)})(d)),["stop","prevent"])},[v("li",na,[v("div",oa,[(t(!0),o(u,null,s((null==n?void 0:n.path)||[],((e,n)=>(t(),o(u,{key:n},[e.symbol?(t(),o("span",ta,c(e.symbol),1)):b("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(t(),o("div",ua,[T(k,{src:("formatIconSwap"in l?l.formatIconSwap:r(W))(e.nextAmm),class:"w-14px h-14px rd-10px mb-3px",style:{width:"14px",height:"14px","border-radius":"10px","margin-bottom":"3px"}},{error:f((()=>a[2]||(a[2]=[v("img",{class:"w-14px rd-10px",src:tl},null,-1)]))),placeholder:f((()=>a[3]||(a[3]=[v("img",{class:"w-14px rd-10px",src:tl},null,-1)]))),_:2},1032,["src"]),a[4]||(a[4]=v("img",{class:"w-15px mr-5px",src:cl,alt:"",srcset:""},null,-1))])):b("",!0)],64)))),128)),0===d?(t(),o("div",sa,c(l.$t("best")),1)):b("",!0)]),v("span",{class:"flex-1-5",innerHTML:("formatNumber"in l?l.formatNumber:r(S))((null==n?void 0:n.amount)||0)},null,8,ia),Number((null==n?void 0:n.priceImpact)||0)<10?(t(),o("span",{key:0,class:"right-label flex-1",style:z({color:m(Number(n.priceImpact||0))})},[Number(n.priceImpact)<.01?(t(),o(u,{key:0},[O("<0.01%")],64)):(t(),o(u,{key:1},[O(c(("formatNumber"in l?l.formatNumber:r(S))(Number((null==n?void 0:n.priceImpact)||0)))+"%",1)],64))],4)):(t(),o("span",{key:1,class:"right-label flex-1",style:z({color:m(Number((null==n?void 0:n.priceImpact)||0))})},[Number(n.priceImpact)>40?(t(),o(u,{key:0},[O(">40%")],64)):(t(),o(u,{key:1},[O(c(("formatNumber"in l?l.formatNumber:r(S))(Number((null==n?void 0:n.priceImpact)||0),2))+"%",1)],64))],4)),e.selectedRouterIndex===d?(t(),p(y,{key:2,size:16,color:"#12B886"},{default:f((()=>[T(r(q))])),_:1})):(t(),p(y,{key:3,style:{opacity:"0"},size:16,color:"#12B886"},{default:f((()=>[T(r(q))])),_:1}))])],8,aa)))),128))])])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-4d353c82"]]),da={key:0},va={key:1},ca={key:2},ma={class:"swap-info"},pa={class:"swap-info_item header"},fa={class:"header-li"},ka={class:"header-li_left"},ba={class:"color-#80838B mr-15px"},ha=["src"],Ta={style:{"font-size":"14px"}},ya=["innerHTML"],ga={class:"header-li mt-34px"},xa={class:"header-li_left"},wa={class:"color-80838B mr-15px"},_a=["src"],Sa={style:{"font-size":"14px"}},Ia=["innerHTML"],Aa={class:"swap-info_item"},Na={class:"swap-info_item-label"},$a={class:"swap-info_item-value"},Fa=["innerHTML"],Ca=["innerHTML"],Pa={key:0,class:"swap-info_item"},Ra={class:"swap-info_item-label"},Ma={class:"swap-info_item-value"},Va={key:1,class:"swap-info_item"},Ea={class:"swap-info_item-label"},Ua={class:"swap-info_item-value"},Da={key:0,class:"swap-info_item"},Ba={class:"swap-info_item-label"},Oa={class:"swap-info_item-value"},Ha={key:1,class:"swap-info_item"},ja={class:"swap-info_item-label"},La={class:"swap-info_item-value"},Wa={class:"swap-info_item"},za={class:"swap-info_item-label"},qa={key:0,class:"swap-info_item-value path-list"},Xa={key:0},Ka={class:"path-amm"},Za={key:1,style:{width:"15px",margin:"0 5px 0"},src:cl,alt:"",srcset:""},Qa={key:1},Ga={key:0,style:{width:"15px",margin:"0 5px 0"},src:cl,alt:"",srcset:""},Ja={key:1},Ya={key:3,class:"swap-info_item"},en={class:"swap-info_item-label"},ln={class:"swap-info_item-value"},an=["href"],nn={class:"footer"},on={key:1,class:"swap-info center"},tn={class:"mt-20px"},un={class:"swap-info center"},sn={class:"mt-20px"},rn={class:"footer"},dn=m(e({__name:"confirmSwap",props:{visible:{type:Boolean,default:!1},swapInfo:{type:Object,default:()=>({})},slippage:{type:String,default:"2"},loading:{type:Boolean,default:!1},chain:{type:String,default:""},nativePrice:{type:[Number,String],default:0},gasPrice:{type:String,default:"0"},activeShow:{type:Number,default:0},swapQuoteInfo:{type:Object,default:()=>({})}},emits:["update:visible","submit"],setup(e,{emit:l}){const a=e,i=l,d=A(!1),m=n({get:()=>a.visible,set(e){i("update:visible",e)}}),k=n((()=>{var e,l,n,o;const t=(null==(l=null==(e=a.swapInfo)?void 0:e.toToken)?void 0:l.decimals)||0,u=null==(n=a.swapInfo)?void 0:n.toAmount;return S(u?new X(u||0).times(100-Number(a.slippage)).div(100).toFixed():K(new X((null==(o=a.swapInfo)?void 0:o.toTokenAmount)||0).times(100-Number(a.slippage)).div(100).toFixed(0),t))})),y=n((()=>{var e,l,n,o;const t=(null==(l=null==(e=a.swapInfo)?void 0:e.fromToken)?void 0:l.decimals)||0,u=null==(n=a.swapInfo)?void 0:n.fromAmount;return S(u?new X(u||0).times(100+Number(a.slippage)).div(100).toFixed():K(new X((null==(o=a.swapInfo)?void 0:o.fromTokenAmount)||0).times(100+Number(a.slippage)).div(100).toFixed(0),t))})),x=n((()=>{var e;return(null==(e=a.swapInfo)?void 0:e.swapRouterPath)||[]}));function _(e,l){return!e||!l||isNaN(Number(e))||isNaN(Number(l))?"0":S(new X(l).div(e).toFixed())||"0"}function I(){i("submit")}function $(){m.value=!1;const e=G(a.chain,a.swapInfo.transaction,"tx");window.open(e)}return N((()=>a.visible),(e=>{e&&(d.value=!1)})),(l,n)=>{const i=L,A=g,N=B,P=V,R=F,M=Z("copy");return t(),p(R,{modelValue:r(m),"onUpdate:modelValue":n[0]||(n[0]=e=>C(m)?m.value=e:null),width:"446px"},{header:f((()=>[1===e.activeShow?(t(),o("span",da,c(l.$t("swap")),1)):2===e.activeShow?(t(),o("span",va,c(l.$t("waitForConfirming")),1)):3===e.activeShow?(t(),o("span",ca,c(l.$t("tradeSubmitted")),1)):b("",!0)])),default:f((()=>{var m,g,F,C,R,V,E,U,D,B,H,j,L,z,q,Z,Y;return[1==e.activeShow?(t(),o(u,{key:0},[v("ul",ma,[v("li",pa,[v("div",fa,[v("div",ka,[v("span",ba,c(l.$t("sell")),1),v("img",{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:r(Q))({symbol:e.swapInfo.fromToken.symbol||"",logo_url:e.swapInfo.fromToken.logo_url||"",chain:e.swapInfo.fromToken.chain||a.chain||""}),alt:"",onerror:"this.src='/icon-default.png'",height:"20"},null,8,ha),v("span",Ta,c(e.swapInfo.fromToken.symbol),1)]),v("div",{class:"header-li_right",innerHTML:r(S)((null==(m=e.swapInfo)?void 0:m.fromAmount)||("formatUnits"in l?l.formatUnits:r(K))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals))||"0"},null,8,ya)]),v("div",ga,[v("div",xa,[v("span",wa,c(l.$t("buy")),1),v("img",{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:r(Q))({symbol:e.swapInfo.toToken.symbol||"",logo_url:e.swapInfo.toToken.logo_url||"",chain:e.swapInfo.toToken.chain||a.chain||""}),alt:"",onerror:"this.src='/icon-default.png'",height:"20"},null,8,_a),v("span",Sa,c(e.swapInfo.toToken.symbol),1)]),v("div",{class:"header-li_right",innerHTML:r(S)((null==(g=e.swapInfo)?void 0:g.toAmount)||("formatUnits"in l?l.formatUnits:r(K))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals))||"0"},null,8,Ia)])]),v("li",Aa,[v("div",Na,c(l.$t("price")),1),v("div",$a,[v("div",{class:"p-item",innerHTML:`1 ${e.swapInfo.fromToken.symbol} = ${_((null==(F=e.swapInfo)?void 0:F.fromAmount)||("formatUnits"in l?l.formatUnits:r(K))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals),(null==(C=e.swapInfo)?void 0:C.toAmount)||("formatUnits"in l?l.formatUnits:r(K))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals))} ${e.swapInfo.toToken.symbol}`},null,8,Fa),v("div",{class:"p-item",innerHTML:`1 ${e.swapInfo.toToken.symbol} = ${_((null==(R=e.swapInfo)?void 0:R.toAmount)||("formatUnits"in l?l.formatUnits:r(K))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals),(null==(V=e.swapInfo)?void 0:V.fromAmount)||("formatUnits"in l?l.formatUnits:r(K))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals))} ${e.swapInfo.fromToken.symbol}`},null,8,Ca)])]),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?b("",!0):(t(),o("li",Pa,[v("div",Ra,c(l.$t("slippage")),1),v("div",Ma,c(e.slippage)+"%",1)])),e.swapInfo.gasValue&&"tron"!==e.chain&&"solana"!==e.chain?(t(),o("li",Va,[v("div",Ea,c(l.$t("estimatedGas")),1),v("div",Ua,"≈ $"+c((Y=e.swapInfo.gasValue,Y&&Number(new X(Y.toString()).times(a.nativePrice).times(a.gasPrice).div(String(10**18)).toFixed(2))||"0")),1)])):b("",!0),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?b("",!0):(t(),o(u,{key:2},[e.swapInfo.isAmountOut?(t(),o("li",Ha,[v("div",ja,c(l.$t("maximumReceived")),1),v("div",La,c(r(y))+" "+c(null==(B=null==(D=e.swapInfo)?void 0:D.fromToken)?void 0:B.symbol),1)])):(t(),o("li",Da,[v("div",Ba,c(l.$t("minimumReceived")),1),v("div",Oa,c(r(k))+" "+c(null==(U=null==(E=e.swapInfo)?void 0:E.toToken)?void 0:U.symbol),1)]))],64)),v("li",Wa,[v("div",za,c(l.$t("tokenRoute")),1),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?(t(),o("div",Qa,[(t(!0),o(u,null,s(r(x),((e,l)=>(t(),o(u,{key:l},[0!==l?(t(),o("img",Ga)):b("",!0),e.symbol?(t(),o("span",Ja,c(e.symbol),1)):b("",!0)],64)))),128))])):(t(),o("div",qa,[(t(!0),o(u,null,s(r(x),((e,a)=>(t(),o(u,{key:a},[e.symbol?(t(),o("span",Xa,c(e.symbol),1)):b("",!0),v("div",Ka,[e.nextAmm&&"unknown"!==e.nextAmm?(t(),p(i,{key:0,src:("formatIconSwap"in l?l.formatIconSwap:r(W))(e.nextAmm),style:{width:"14px",height:"14px","border-radius":"10px","margin-bottom":"3px"}},{error:f((()=>n[1]||(n[1]=[v("img",{style:{width:"14px","border-radius":"10px"},src:tl},null,-1)]))),placeholder:f((()=>n[2]||(n[2]=[v("img",{style:{width:"14px","border-radius":"10px"},src:tl},null,-1)]))),_:2},1032,["src"])):b("",!0),a!==r(x).length-1?(t(),o("img",Za)):b("",!0)])],64)))),128))]))]),(null==(H=e.swapInfo)?void 0:H.transaction)?(t(),o("li",Ya,[v("div",en,c(l.$t("txHash")),1),v("div",ln,[v("a",{href:("formatExplorerUrl"in l?l.formatExplorerUrl:r(G))(e.chain,e.swapInfo.transaction,"tx"),target:"_blank"},c((null==(L=null==(j=e.swapInfo)?void 0:j.transaction)?void 0:L.slice(0,6))+"..."+(null==(q=null==(z=e.swapInfo)?void 0:z.transaction)?void 0:q.slice(-6))),9,an),h(T(A,{name:"bxs:copy",class:"clickable ml-5px"},null,512),[[M,null==(Z=e.swapInfo)?void 0:Z.transaction]])])])):b("",!0)]),v("div",nn,[T(N,{class:"swap-button w-full",type:"primary",size:"large",loading:e.loading,"loading-text":l.$t("confirming"),block:"",disabled:r(d),onClick:w(I,["stop"])},{default:f((()=>[O(c(l.$t("confirm")),1)])),_:1},8,["loading","loading-text","disabled"])])],64)):2===e.activeShow?(t(),o("div",on,[T(P,{size:110,color:"#747782",style:{animation:"rotating 2s linear infinite normal"}},{default:f((()=>[T(r(J))])),_:1}),v("span",tn,c(l.$t("plsConfirmWallet")),1)])):3===e.activeShow?(t(),o(u,{key:2},[v("div",un,[T(A,{name:"lineicons:arrow-up-circle",class:"text-110px"}),v("span",sn,c(l.$t("plsViewBlockChainExplorer")),1)]),v("div",rn,[T(N,{class:"swap-button w-full",type:"primary",size:"large",block:"",onClick:w($,["stop"])},{default:f((()=>[O(c(l.$t("viewTransition")),1)])),_:1})])],64)):b("",!0)]})),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-ea1165d0"]]),vn=Y("swap",(()=>{const e=ee("swap_token1",{address:"",symbol:"",logo_url:"",chain:"",balance:0,decimals:0}),a=ee("swap_token2",{address:"",symbol:"",logo_url:"",chain:"",balance:0,decimals:0}),o=l(),t=le(),u=ae(0),s=A(2),i=n((()=>0===u.value?a.value:e.value)),r=n((()=>0===u.value?e.value:a.value)),v=A(t.tokenInfo),c=A(t.tokenInfoExtra),m=ne(),p=n((()=>o.chain||oe(m.params.id).chain||"")),f=A([]),k=n((()=>{var e,l,a,n,o,t;const u=[...(null==(l=null==(e=f.value)?void 0:e.slice)?void 0:l.call(e))||[]];return(null==(a=null==u?void 0:u[0])?void 0:a.chain)&&(null==(n=null==u?void 0:u[0])?void 0:n.chain)!==(null==(t=null==(o=h.value)?void 0:o[0])?void 0:t.chain)?u:(h.value.slice().forEach((e=>{const l=u.find((l=>l.token+"-"+l.chain==e.token+"-"+e.chain));l?l.logo_url=e.logo_url:u.push({...e,value:0})})),u.length>0?u:h.value.slice())})),b=A("0"),h=ae([]),T=A(!1),y=A(!1),g=A(!1),x=A(!1),w=A(!1),I=A(0),N=A(!1),$=A(!1),F=A(""),C=A(0),P=A(""),R=A("");function M(){const a=l();if(e.value.chain===a.chain)return te({tokenAddress:e.value.address,chain:a.chain,spender:ue(a.chain)}).then((async l=>{var a,n;if(null==l?void 0:l.address)return e.value={...e.value,...l},1===u.value&&(b.value=e.value.allowance||"0"),f.value=null==(n=null==(a=f.value)?void 0:a.map)?void 0:n.call(a,(a=>(a.token===e.value.address&&(a={...a,...l,value:l.balance}),a))),l}))}function V(){const e=l();if(a.value.chain===e.chain)return te({tokenAddress:a.value.address,chain:e.chain,spender:ue(e.chain)}).then((async e=>{var l,n;if(null==e?void 0:e.address)return a.value={...a.value,...e},0===u.value&&(b.value=a.value.allowance||"0"),f.value=null==(n=null==(l=f.value)?void 0:l.map)?void 0:n.call(l,(l=>(l.token===a.value.address&&(l={...l,...e,value:e.balance}),l))),e}))}function E(){M(),V()}function U(){const e=l(),a=e.chain,n=e.address;n&&a&&se().then((e=>{var l,o,t,u;f.value="solana"===a?null==(l=null==e?void 0:e.map)?void 0:l.call(e,(e=>({...e}))):null==(u=(null==(t=null==(o=null==e?void 0:e.map((e=>({...e,id:e.token+"-"+e.chain,address:e.token}))))?void 0:o.filter)?void 0:t.call(o,(e=>(e.risk_score||0)<60&&(e.risk_level||0)>=0&&"blacklist"!==e.flag&&""!==e.symbol&&"lp"!==e.flag)))||[])?void 0:u.filter((e=>!!Number(e.value))),f.value.length>0&&"solana"!==a&&"sui"!==a&&(/^0x[0-9a-zA-Z]{40}$/.test(n)||ie(n,"tron"))&&re(f.value.map((e=>e.token||"")),a).then((e=>{var l,a,n;f.value=null==(n=null==(a=null==(l=f.value)?void 0:l.map)?void 0:a.call(l,((l,a)=>({...l,value:K(e[a],(null==l?void 0:l.decimals)||0)}))))?void 0:n.filter((e=>!!Number(e.value)))}))}))}function D(l,n){var o,u,s,i;let r=e.value.address,p=e.value.chain;if(!r||!p)return;const f=r+"-"+p;if(e.value.address&&(r=e.value.address),e.value.chain&&(p=e.value.chain),e.value.address===(null==(o=t.token)?void 0:o.token)&&(v.value={...t.tokenInfo},e.value={...e.value,address:(null==(s=null==(u=v.value)?void 0:u.token)?void 0:s.token)||"",...null==(i=v.value)?void 0:i.token}),r&&p){let o=r+"-"+p;const t=d(p),u=null==t?void 0:t.wmain_wrapper,s=null==t?void 0:t.main_name;r===_&&p&&u&&(o=u+"-"+p);const i=de(o).then((async n=>{var o,t,u,i,d,c,f,k,b,g,A,M,V,E,U,D,B,O,H,j;const L=n||{};v.value={...L,...r===_?{token:{...(null==n?void 0:n.token)||{},token:r,symbol:s}}:{}},e.value={...e.value,address:(null==(t=null==(o=v.value)?void 0:o.token)?void 0:t.token)||"",...null==(u=v.value)?void 0:u.token},"solana"===p?C.value=(null==(i=v.value)?void 0:i.token.current_price_usd)?S(v.value.token.current_price_usd):"":(P.value=(null==(d=v.value)?void 0:d.token.current_price_usd)?S(null==(f=null==(c=v.value)?void 0:c.token)?void 0:f.current_price_usd):"",R.value=(null==(k=v.value)?void 0:k.token.current_price_usd)?S(null==(g=null==(b=v.value)?void 0:b.token)?void 0:g.current_price_usd):"");const W=null==(A=null==n?void 0:n.pairs)?void 0:A[0],z=null==W?void 0:W.pair;if(!z||"moonshot"===(null==W?void 0:W.amm)||(null==(M=null==W?void 0:W.amm)?void 0:M.includes("fourmeme"))||"flapswap"===(null==W?void 0:W.amm)||"sunpump"===(null==W?void 0:W.amm)||"dyorswapfun"===(null==W?void 0:W.amm)||(null==W?void 0:W.target_token)!==z&&!new RegExp(null==W?void 0:W.target_token,"i").test(z))T.value=!1;else if(T.value=!0,a.value.address!==_&&(null==(V=h.value)?void 0:V.length)>0){const e={...null==(U=null==(E=h.value)?void 0:E.slice())?void 0:U.find((e=>e.address===_))};a.value={...e},setTimeout((()=>{l&&l(a.value)}),1e3)}(null==(D=null==W?void 0:W.amm)?void 0:D.includes("fourmeme"))?x.value=!0:x.value=!1,"dyorswapfun"===(null==W?void 0:W.amm)&&(null==(O=null==(B=["xlayer","gatelayer"])?void 0:B.includes)?void 0:O.call(B,null==W?void 0:W.chain))?N.value=!0:N.value=!1,"xflapswap"===(null==W?void 0:W.amm)&&"xlayer"===(null==W?void 0:W.chain)?$.value=!0:$.value=!1,"flapswap"===(null==W?void 0:W.amm)?w.value=!0:w.value=!1;const q=["TPeoxx1VhUMnAUyjwWfximDYFDQaxNQQ45","TXL6rJbvmjD46zeN1JssfgxvSo99qC8MRT","TAwAg9wtQzTMFsijnSFotJrpxhMm3AqW1d"];return"sunpump"===(null==W?void 0:W.amm)?I.value=1:(null==(H=null==n?void 0:n.pairs)?void 0:H.some((e=>"sunpump"===e.amm)))||(null==(j=null==q?void 0:q.includes)?void 0:j.call(q,r))?I.value=2:I.value=0,F.value=(null==W?void 0:W.amm)||"",function(l){return new Promise((n=>{var o;const t=(null==(o=m.params)?void 0:o.id)||"";let[u,s]=oe(t,1);e.value.address&&(u=e.value.address),e.value.chain&&(s=e.value.chain),u&&"solana"===s?ce(u).then((e=>{var o,t,u;if(!1===(null==e?void 0:e.completed)){if("So11111111111111111111111111111111111111112"!==a.value.address&&(null==(o=h.value)?void 0:o.length)>0){const e={...null==(u=null==(t=h.value)?void 0:t.slice())?void 0:u.find((e=>"So11111111111111111111111111111111111111112"===e.address))};a.value={...e},setTimeout((()=>{l&&l(e)}),1e3)}n(!0)}else y.value=!1,n(!1)})):(y.value=!1,n(!1))}))}(l).catch((async()=>!1)),n})),k=ve(f).then((async e=>(c.value={...e,buy_tax:Number(Number((null==e?void 0:e.buy_tax)||0).toFixed(2)),sell_tax:Number(Number((null==e?void 0:e.sell_tax)||0).toFixed(2))},n&&n(),e)));Promise.all([i,k]).finally((()=>{}))}}return{token1:e,token2:a,chain:p,fromToken:i,toToken:r,baseToken:v,baseTokenExtra:c,allowance:b,activeTab:u,swapType:s,isFourMeme:x,isFlap:w,isPump:y,isMoonshot:g,isERC314:T,isSunPump:I,isDyorswapfun:N,isXflapswap:$,userBalanceTokens:f,getTokenDetails:E,getToken2Info:V,getToken1Info:M,getBaseToken:D,swapTokens:k,init:function(){var l;const[n,t]=oe(null==(l=m.params)?void 0:l.id,1),u=o.chain;n&&n!==e.value.address&&(e.value={address:n||"",chain:t||"",balance:0,symbol:"",decimals:0,logo_url:""}),u===a.value.chain&&a.value.address||(a.value={address:"",chain:u||"",balance:0,symbol:"",decimals:0,logo_url:""}),function(){const l=o.chain||oe(m.params.id).chain||"";me().then((n=>{var o,t,u,s,i,r,d,v;h.value=(null==n?void 0:n.map((e=>({...e,id:e.token+"-"+e.chain,address:e.token,decimals:e.token===_&&"solana"===l?9:e.decimals}))))||[],"solana"===l&&(h.value=null==(t=null==(o=h.value)?void 0:o.filter)?void 0:t.call(o,(e=>e.token!==_)).sort((e=>"So11111111111111111111111111111111111111112"===e.token?-1:1))),"sui"===l&&(h.value=null==(r=null==(i=null==(s=null==(u=h.value)?void 0:u.filter)?void 0:s.call(u,(e=>e.token!==_)))?void 0:i.map)?void 0:r.call(i,(e=>({...e,token:"0x2::sui::SUI"===e.token?_:e.token,address:"0x2::sui::SUI"===e.token?_:e.token}))).sort((e=>e.token===_?-1:1)));const c=e.value.address===a.value.address,m=(T.value||x.value||w.value||I.value>0||N.value||$.value)&&a.value.address!==_,p=(y.value||g.value)&&"solana"===l&&"So11111111111111111111111111111111111111112"===a.value.address,f="sui"===l&&"0x2::sui::SUI"!==a.value.address&&a.value.address!==_;if((!a.value.address||c||a.value.chain!==l||m||p||f)&&h.value.length>0){let l=h.value.findIndex((e=>/USDT/.test(e.symbol)));l=l<0?h.value.findIndex((e=>/USD/.test(e.symbol))):l,l=l<0?0:l;let n=h.value[l];if(e.value.address===n.address&&(n=0===l?h.value[1]??h.value[0]:h.value[0]),T.value||y.value||g.value||x.value||w.value||I.value>0||f||N.value||$.value){const e=null==(v=null==(d=h.value)?void 0:d.slice)?void 0:v.call(d).find((e=>e.address===_||"So11111111111111111111111111111111111111112"===e.address||"0x2::sui::SUI"===e.address));e&&(a.value={...e})}else a.value={...n}}}))}(),U(),me(),D(),E()},getUserTokenList:U}})),cn={key:0,class:"gap"},mn=["onClick"],pn={class:"text"},fn=m(e({__name:"percentStep",props:{activeColor:{type:String,default:""}},emits:["change"],setup(e,{expose:l,emit:a}){const n=a,d=A(0),m=[25,50,75,100],p=(e,l=!1)=>{e===d.value?(d.value=0,n("change",0,l)):(d.value=e,n("change",e,l))};return l({handleClick:p}),(l,a)=>(t(),o("div",{class:"percent-container",style:z({"--percent-active-color":e.activeColor})},[v("div",{for:"percent-radio-0",class:i({active:0===r(d)})},null,2),(t(),o(u,null,s(m,((e,l)=>(t(),o(u,{key:l},[0!==l?(t(),o("div",cn)):b("",!0),v("div",{class:i(["label",{active:e===r(d)}]),onClick:w((l=>p(e)),["stop"])},[a[0]||(a[0]=v("div",{class:"bar"},null,-1)),v("div",pn,c(e)+"%",1)],10,mn)],64)))),64))],4))}}),[["__scopeId","data-v-9ac60cd3"]]),kn={class:"card-container mt-10px"},bn={class:"flex items-center"},hn=["innerHTML"],Tn={class:"flex justify-between items-center mt-10px"},yn={class:"card-container bottom mt-10px"},gn={class:"flex items-center"},xn=["innerHTML"],wn={class:"flex justify-between items-center mt-10px"},_n={key:0},Sn={key:1},In=["innerHTML"],An={class:"swap-label"},Nn={class:"slippage-container"},$n={class:"swap-label_item-left"},Fn={style:{display:"flex","align-items":"center"}},Cn={class:"swap-label_item-left"},Pn={class:"swap-label_item-left"},Rn={key:0},Mn={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:cl,alt:"",srcset:""},Vn={key:1},En={key:1},Un={key:0,style:{width:"15px",margin:"1px 5px 0"},src:cl,alt:"",srcset:""},Dn={key:1},Bn={key:0},On={key:1,class:"path-amm"},Hn=["src"],jn={key:0,class:"select-token iconfont icon-collapse-down"},Ln={key:0},Wn={class:"swap-label_item-left"},zn="2",qn=m(e({__name:"market",setup(e){const{t:i}=a(),m=k(),y=vn(),x=le(),I=l(),$=A(!1),F=A(!1),R=A(!1),M=n((()=>y.chain)),V=A(!1),E=A(!1),U=A(zn),D=pe("swapSlippage","auto"),L=pe("solanaSlippage","9"),W=pe("suiTonSlippage","2"),q=A(!1),Z=A(!1),Q=A(!1),G=fe("percentStepInf"),J=A([]),Y=A(!1),ee=A(0),oe=A(0),te=A(0),se=A([0,0]),ie=A(!1),re=A({fromToken:{symbol:"",decimals:18,address:"",logo_url:""},toToken:{symbol:"",decimals:18,address:"",logo_url:""},gasValue:"0",swapRouterPath:[],isAmountOut:!1}),de={},ve={},ce=A("0"),me=A("0"),Ke=n((()=>{const e=re.value.gasValue;if(!e)return"0";const l=ce.value,a=me.value;return S(new X(e.toString()).times(a).times(l).div(String(10**18)).toFixed()||"0",2)})),Ze=A({}),Qe=n((()=>"auto"===D.value?U.value:D.value)),Ge=n((()=>{if(["solana","ton","sui"].includes(y.chain)||y.fromToken.address===_)return!0;if(!y.allowance)return!1;const e=y.fromToken.decimals||0;return ke(new X(dl.value||0).toFixed(Number(e)||0),e).lte(y.allowance)})),Je=n((()=>{if(!Number(dl.value)&&!Number(vl.value))return"";const e=y.chain;if("solana"===e)return new X(ee.value||0);if("sui"===e)return new X(oe.value||0);const l=ol.value.routerPath,a=(null==l?void 0:l.length)>0?null==l?void 0:l[0]:ol.value.fromToken||null,n=(null==l?void 0:l.length)>0?null==l?void 0:l[l.length-1]:ol.value.toToken||null;if(a&&n){const e=ol.value.from_price||0,l=ol.value.to_price||0,o=K(a.amount,a.decimals),t=K(n.amount,n.decimals);return new X(o).times(e).div(new X(t).times(l)).minus(1).abs()}return""})),Ye=n((()=>Je.value?S(Je.value.times(100).toFixed(),2)+"%":"")),el=n((()=>{var e,l,a,n,o,t;return""===Je.value?"":(null==(l=null==(e=Je.value)?void 0:e.gt)?void 0:l.call(e,.4))?"#F81111":(null==(n=null==(a=Je.value)?void 0:a.gt)?void 0:n.call(a,.1))?"#F7933F":(null==(t=null==(o=Je.value)?void 0:o.gt)?void 0:t.call(o,.05))?"#f8be46":""})),ll=n((()=>{var e,l,a,n;if(!I.address||!I.provider)return"#999";if(""!==Je.value){if(null==(l=null==(e=Je.value)?void 0:e.gt)?void 0:l.call(e,.4))return"#999";if(null==(n=null==(a=Je.value)?void 0:a.gt)?void 0:n.call(a,.1))return"#F7933F"}return 0===y.activeTab?be[0]:1===y.activeTab?he[0]:"#558BED"})),al=n((()=>{var e,l,a,n,o,t,u;const s=(null==(e=ol.value)?void 0:e.totalTax)||((null==(l=ol.value)?void 0:l.total_sell_tax)||0)+((null==(a=ol.value)?void 0:a.total_buy_tax)||0);return s>0?`(${i("tax")}: ${S(s,1)}%)`:0===y.activeTab&&((null==(n=y.baseTokenExtra)?void 0:n.buy_tax)||0)>0?`(${i("tax")}: ${S((null==(o=y.baseTokenExtra)?void 0:o.buy_tax)||0,1)}%)`:1===y.activeTab&&((null==(t=y.baseTokenExtra)?void 0:t.sell_tax)||0)>0?`(${i("tax")}: ${S((null==(u=y.baseTokenExtra)?void 0:u.sell_tax)||0,1)}%)`:""})),nl=ae([]),ol=A({fromToken:{symbol:"",decimals:18,amount:"",address:""},toToken:{symbol:"",decimals:18,amount:"",address:""},fromAmount:"",isAmountOut:!1,isSunPump:0}),tl=A([]),il=ne();N((()=>il.params.id),(()=>{dl.value="",vl.value=""}));const rl=A(0),dl=A(""),vl=A(""),ml=A(0),pl=A(!1),fl=n((()=>{var e,l,a,n,o,t,u,s,i;const r=(null==(l=null==(e=null==x?void 0:x.pairs)?void 0:e[0])?void 0:l.amm)&&(null==(o=["fourmeme","fourmemev2"])?void 0:o.includes(null==(n=null==(a=null==x?void 0:x.pairs)?void 0:a[0])?void 0:n.amm)),d=(null==(u=null==(t=null==x?void 0:x.pairs)?void 0:t[0])?void 0:u.amm)&&["viridian","aerodrome","flapswap"].includes(null==(i=null==(s=null==x?void 0:x.pairs)?void 0:s[0])?void 0:i.amm);return"ton"===y.chain||"sui"===y.chain||d||r||y.isDyorswapfun||y.isXflapswap})),{reset:kl,start:bl}=Te(15,{immediate:!0,onComplete:()=>{!function(){if(2!==y.swapType||y.token1.address===y.token2.address)return;if(ie.value||E.value||"hidden"===document.visibilityState)return void hl();R.value?_l():Sl();hl()}()}});function hl(){kl(15),bl()}function Tl(){hl(),pl.value&&Ge.value&&!ie.value&&Hl(!1)}function yl(){nl.value=[],ol.value.totalTax=0,ol.value.total_sell_tax=0,ol.value.total_buy_tax=0,U.value=zn,rl.value=0,dl.value="",vl.value="",y.getToken1Info(),y.getBaseToken(gl,El)}function gl(){nl.value=[],ol.value.totalTax=0,ol.value.total_sell_tax=0,ol.value.total_buy_tax=0,U.value=zn,rl.value=0,dl.value="",vl.value="",y.getToken2Info()}function xl(){var e,l;const a=y.chain;if("solana"!==a){if(a&&a===y.fromToken.chain&&y.fromToken.address){let n=y.isFourMeme?null==(l=null==(e=ol.value)?void 0:e.quoteResult)?void 0:l.tokenManager:ue(a);const o=["","TTfvyrAz86hbZk5iDpKD78pqLGgi8C7AAw","TZFs5ch1R1C4mmjwrrmZqeqbUgGpxY1yWB"][y.isSunPump];n=o||n,"xlayer"===a&&y.isDyorswapfun&&(n="0xfd947a61e2c54413031ddb1f754dbe0e696efa09"),"xlayer"===a&&y.isXflapswap&&(n="0xb30d8c4216e1f21f27444d2ffaee3ad577808678"),"gatelayer"===a&&y.isDyorswapfun&&(n="0xC5d6974951201FB5f20C0efB4B6BEF5cf8FF1617"),$.value=!0,xe(y.fromToken.address,n).then((e=>{y.allowance=e.toString()})).finally((()=>{$.value=!1}))}}else y.allowance=ge}function wl(e,l=!1){var a,n,o,t;if(l)return;const u=Number(e)/100;let s=y.fromToken.balance||0;if(u){const e=y.fromToken.decimals||0;if((null==(a=y.fromToken)?void 0:a.address)===_||"So11111111111111111111111111111111111111112"===(null==(n=y.fromToken)?void 0:n.address)){const l=y.fromToken.chain,a=we[l]||.01;if(new X(s).lt(a))return void H.alert(i("balanceNotEnough",{n:a,s:y.fromToken.symbol}),i("tips"));s=(null==(o=new X(s).minus(a).times(u).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:o[0])||""}else s=(null==(t=new X(s).times(u).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:t[0])||"";0===Number(s)&&(s="")}else s="";dl.value!==s&&(dl.value=Number(s)<0?"0":s,_l())}function _l(){if(F.value&&!R.value)return;const e=dl.value,l=Number(e);""===e||"."===e?(dl.value="",vl.value="",F.value=!1):0===l&&0!==Number(vl.value)?(vl.value="0",F.value=!1):l&&(R.value=!0,vl.value="",Al())}function Sl(){if(F.value&&!R.value)return;const e=vl.value,l=Number(e);""===e||"."===e?(dl.value="",vl.value="",F.value=!1):0===l&&0!==Number(dl.value)?(dl.value="0",F.value=!1):l&&(R.value=!1,dl.value="",Al(!1))}let Il=null;function Al(e=!0){Vl()&&(Number(dl.value)||Number(vl.value)?y.token1.address!==y.token2.address&&(Il&&(clearTimeout(Il),Il=null),Il=setTimeout((()=>{!async function(e,l){var a,n,o,t,u,s,i,r,d,v,c,m,p,f,k,b,h,T,g,x,w,S,A,N,$,C,P,R,M,E,U,D,B,O,H,j,z,q,Z,Q,G,J,Y,ee,le,ae,ne,oe,te,ue,se,ie,ce,me,pe,fe,be,he,Te,ye;if((dl.value||vl.value)&&y.fromToken.address&&y.toToken.address&&l===y.fromToken.chain){const xe=y.fromToken.decimals,we=y.toToken.decimals;if("sui"===l)return void async function(e,l){var a,n,o;if("sui"===l){const l=y.fromToken.decimals||(null==(a=y.fromToken)?void 0:a.decimal),t=y.toToken.decimals||(null==(n=y.toToken)?void 0:n.decimal),u=y.fromToken.address===_?new X(dl.value||0).times("0.997"):new X(dl.value||0),s={tokenIn:y.fromToken.address===_?"0x2::sui::SUI":y.fromToken.address,tokenOut:y.toToken.address,amountIn:ke((null==(o=u.toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`)))?void 0:o[0])||0,l).toFixed(0),slippage:new X(W.value).div(100).toNumber()};F.value=!0,Pe(s).then((l=>{var a,n;return l.returnAmount&&l.returnAmountWithDecimal||l.amount_out?(de.value=l,e&&(vl.value=(null==l?void 0:l.returnAmount)||K((null==l?void 0:l.amount_out)||"0",(null==(a=null==l?void 0:l.to_token)?void 0:a.decimals)||t||(null==(n=y.toToken)?void 0:n.decimals))),$l()):Ie("can not get quote"),Hl(!1),F.value=!1,l})).catch((e=>(Ie((null==e?void 0:e.error)||e),Promise.resolve("")))).finally((()=>{setTimeout((()=>{F.value=!1,Tl()}),800)}))}}(e,l);if("solana"===l)return void function(e,l){var a,n;if("solana"===l){if(!!((y.isPump||y.isMoonshot)&&"So11111111111111111111111111111111111111112"!==y.token2.address&&"solana"===y.token2.chain))return;const l=y.fromToken.decimals,o=y.toToken.decimals,t={inputMint:y.fromToken.address,inputDecimals:l,inputMintSymbol:y.fromToken.symbol,inputMintName:y.fromToken.symbol,inputAmount:dl.value||0,outputMint:y.toToken.address,outputDecimals:o,outputMintSymbol:y.toToken.symbol,outputMintName:y.toToken.symbol,amount:e?ke((null==(a=new X(dl.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`)))?void 0:a[0])||0,l).toFixed(0):ke((null==(n=new X(vl.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${o}})?`)))?void 0:n[0])||0,o).toFixed(0),slippageBps:new X(L.value).times(100).toFixed(0),swapMode:e?"ExactIn":"ExactOut",slippage:L.value||9,isPump:y.isPump,isMoonshot:y.isMoonshot};if(Nl.amount&&Object.keys(Nl).every((e=>t[e]===Nl[e])))return;Nl={...t},setTimeout((()=>{Nl={}}),15e3),F.value=!0,Re(t).then((a=>{var n,t,u,s,i;return a.routeInfo&&a.transaction?(ve.value=a,vl.value=(null==(u=null==(t=null==(n=a.routeInfo)?void 0:n.amountOut)?void 0:t.amount)?void 0:u.toFixed())||"0",$l()):e?a.outAmount?(ve.value=a,vl.value=K(a.outAmount||"0",o||(null==(s=y.toToken)?void 0:s.decimals)),$l()):Ie("can not get quote"):a.inAmount?(ve.value=a,dl.value=K(a.inAmount||"0",l||(null==(i=y.fromToken)?void 0:i.decimals)),$l()):Ie("can not get quote"),Hl(!1),a})).catch((e=>(Ie((null==e?void 0:e.error)||e),Promise.resolve("")))).finally((()=>{setTimeout((()=>{F.value=!1,Nl={},Tl()}),800)}))}}(e,l);if("bsc"===l){if(!!((y.isFourMeme||y.isFlap)&&y.token2.address!==_&&"bsc"===y.token2.chain))return}if("tron"===l){if(!!(y.isSunPump>0&&y.token2.address!==_&&"tron"===y.token2.chain))return}if("xlayer"===l){if(!!((y.isDyorswapfun||y.isXflapswap)&&y.token2.address!==_&&"xlayer"===y.token2.chain))return}F.value=!0;const Oe={from_token:y.fromToken.address,to_token:y.toToken.address,amountIn:e?ke((null==(a=new X(dl.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${xe}})?`)))?void 0:a[0])||0,xe).toFixed(0):"0",amountOut:e?"0":ke((null==(n=new X(vl.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${we}})?`)))?void 0:n[0])||0,we).toFixed(0)};if(y.isFourMeme){try{const a=await _e(Oe,l);e?vl.value=K((null==a?void 0:a.amountOut)||"0",null==(o=y.toToken)?void 0:o.decimals):dl.value=K((null==a?void 0:a.amountIn)||"0",null==(t=y.fromToken)?void 0:t.decimals),nl.value=[{symbol:null==(u=y.fromToken)?void 0:u.symbol,nextAmm:"fourmeme"},{symbol:null==(s=y.toToken)?void 0:s.symbol,nextAmm:""}],ol.value.fromAmount=ke(dl.value,null==(i=y.fromToken)?void 0:i.decimals).toFixed(0),ol.value.toAmount=ke(vl.value,null==(r=y.toToken)?void 0:r.decimals).toFixed(0),ol.value.fromToken={...y.fromToken,amount:ol.value.fromAmount},ol.value.toToken={...y.toToken,amount:ol.value.toAmount},ol.value.quoteResult={...a},ol.value.isAmountOut=!e,ol.value.isFourMeme=!0,xl();const[n,p]=[(null==(d=y.fromToken)?void 0:d.address)+"-"+(null==(v=y.fromToken)?void 0:v.chain),(null==(c=y.toToken)?void 0:c.address)+"-"+(null==(m=y.toToken)?void 0:m.chain)];Se([n,p]).then((async e=>{var l,a;ol.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,ol.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,ol.value.isFourMeme=!0})),F.value=!1}catch(ge){F.value=!1,Ie(ge)}return}if(y.isDyorswapfun){try{const[a,n]=[(null==(p=y.fromToken)?void 0:p.address)+"-"+(null==(f=y.fromToken)?void 0:f.chain),(null==(k=y.toToken)?void 0:k.address)+"-"+(null==(b=y.toToken)?void 0:b.chain)],o=await Se([a,n]),t=(null==(h=null==o?void 0:o[0])?void 0:h.current_price_usd)||0,u=(null==(T=null==o?void 0:o[1])?void 0:T.current_price_usd)||0,s=Ae({...Oe,from_price:t,to_price:u,pairs:(null==(g=y.baseToken)?void 0:g.pairs)||[]},l);vl.value=K(s||"0",null==(x=y.toToken)?void 0:x.decimals),nl.value=[{symbol:null==(w=y.fromToken)?void 0:w.symbol,nextAmm:"dyorswapfun"},{symbol:null==(S=y.toToken)?void 0:S.symbol,nextAmm:""}],ol.value.fromAmount=ke(dl.value,null==(A=y.fromToken)?void 0:A.decimals).toFixed(0),ol.value.toAmount=ke(vl.value,null==(N=y.toToken)?void 0:N.decimals).toFixed(0),ol.value.fromToken={...y.fromToken,amount:ol.value.fromAmount},ol.value.toToken={...y.toToken,amount:ol.value.toAmount},ol.value.isAmountOut=!e,ol.value.isDyorswapfun=!0,xl(),ol.value.from_price=t,ol.value.to_price=u,F.value=!1}catch(ge){F.value=!1,Ie(ge)}return}if(y.isXflapswap){try{const a=await Ne(Oe,l);e?vl.value=K((null==a?void 0:a.toString())||"0",null==($=y.toToken)?void 0:$.decimals):dl.value=K((null==a?void 0:a.toString())||"0",null==(C=y.fromToken)?void 0:C.decimals),nl.value=[{symbol:null==(P=y.fromToken)?void 0:P.symbol,nextAmm:"xflapswap"},{symbol:null==(R=y.toToken)?void 0:R.symbol,nextAmm:""}],ol.value.fromAmount=ke(dl.value,null==(M=y.fromToken)?void 0:M.decimals).toFixed(0),ol.value.toAmount=ke(vl.value,null==(E=y.toToken)?void 0:E.decimals).toFixed(0),ol.value.fromToken={...y.fromToken,amount:ol.value.fromAmount},ol.value.toToken={...y.toToken,amount:ol.value.toAmount},ol.value.quoteResult={...a},ol.value.isAmountOut=!e,ol.value.isXflapswap=!0,xl();const[n,o]=[(null==(U=y.fromToken)?void 0:U.address)+"-"+(null==(D=y.fromToken)?void 0:D.chain),(null==(B=y.toToken)?void 0:B.address)+"-"+(null==(O=y.toToken)?void 0:O.chain)];Se([n,o]).then((async e=>{var l,a;ol.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,ol.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,ol.value.isXflapswap=!0})),F.value=!1}catch(ge){F.value=!1,Ie(ge)}return}if("tron"===l&&y.isSunPump>0){try{const a=await $e({...Oe,isSunPump:y.isSunPump},l);e?vl.value=K((null==a?void 0:a.amountOut)||"0",null==(H=y.toToken)?void 0:H.decimals):dl.value=K((null==a?void 0:a.amountIn)||"0",null==(j=y.fromToken)?void 0:j.decimals),nl.value=[{symbol:null==(z=y.fromToken)?void 0:z.symbol,nextAmm:"sunpump"},{symbol:null==(q=y.toToken)?void 0:q.symbol,nextAmm:""}],ol.value.fromAmount=ke(dl.value,null==(Z=y.fromToken)?void 0:Z.decimals).toFixed(0),ol.value.toAmount=ke(vl.value,null==(Q=y.toToken)?void 0:Q.decimals).toFixed(0),ol.value.fromToken={...y.fromToken,amount:ol.value.fromAmount},ol.value.toToken={...y.toToken,amount:ol.value.toAmount},ol.value.quoteResult={...a},ol.value.isAmountOut=!e,ol.value.isSunPump=y.isSunPump,xl();const[n,o]=[(null==(G=y.fromToken)?void 0:G.address)+"-"+(null==(J=y.fromToken)?void 0:J.chain),(null==(Y=y.toToken)?void 0:Y.address)+"-"+(null==(ee=y.toToken)?void 0:ee.chain)];Se([n,o]).then((async e=>{var l,a;ol.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,ol.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,ol.value.isSunPump=y.isSunPump})),F.value=!1}catch(ge){F.value=!1,Ie(ge)}return}const He=null==(le=y.baseToken)?void 0:le.pairs;if((null==(ae=null==He?void 0:He[0])?void 0:ae.target_token)===(null==(ne=null==He?void 0:He[0])?void 0:ne.pair)&&(null==(oe=null==He?void 0:He[0])?void 0:oe.pair)&&"xlayer"!==l){const a=await Fe(Oe,l);if(a){e?vl.value=K(a||"0",null==(te=y.toToken)?void 0:te.decimals):dl.value=K(a||"0",null==(ue=y.fromToken)?void 0:ue.decimals),y.isERC314=!0,nl.value=[{symbol:null==(se=y.fromToken)?void 0:se.symbol,nextAmm:null==(ie=null==He?void 0:He[0])?void 0:ie.amm},{symbol:null==(ce=y.toToken)?void 0:ce.symbol,nextAmm:""}],ol.value.fromAmount=ke(dl.value,null==(me=y.fromToken)?void 0:me.decimals).toFixed(0),ol.value.toAmount=ke(vl.value,null==(pe=y.toToken)?void 0:pe.decimals).toFixed(0),ol.value.fromToken={...y.fromToken,amount:ol.value.fromAmount},ol.value.toToken={...y.toToken,amount:ol.value.toAmount};const[l,n]=[(null==(fe=y.fromToken)?void 0:fe.address)+"-"+(null==(be=y.fromToken)?void 0:be.chain),(null==(he=y.toToken)?void 0:he.address)+"-"+(null==(Te=y.toToken)?void 0:Te.chain)];return Se([l,n]).then((async e=>{var l,a;ol.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,ol.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,ol.value.isERC314=!0})),void(F.value=!1)}}let je="";if("core"===l&&((null==He?void 0:He.length)||0)>0){const e=(null==(ye=null==He?void 0:He.find)?void 0:ye.call(He,(e=>{const l=[e.token0_address,e.token1_address];return l.includes(Oe.from_token)||l.includes(Oe.to_token)})))||(null==He?void 0:He[0]),l=(null==e?void 0:e.amm)||"",a={shadowswap:"0x191e94fa59739e188dce837f7f6978d84727ad01"};je=(null==a?void 0:a[l])||"0x40375c92d9faf44d2f9db9bd9ba41a3317a2404f"}y.isERC314=!1,Ce(Oe,je,l).then((e=>{tl.value=e,Ml(e),function(){Cl&&(clearTimeout(Cl),Cl=null);Cl=setTimeout((()=>{var e,l,a,n,o,t,u;Fl()&&Ge.value&&I.address&&!V.value&&(((null==(e=ol.value)?void 0:e.isSunPump)||0)>0?Me(ol.value,Qe.value).then((async e=>{var l;Ze.value={...e,isSunPump:null==(l=ol.value)?void 0:l.isSunPump},re.value=e.swapInfo,re.value.gasValue=e.gasValue,re.value.swapRouterPath=nl.value})).catch((e=>{Ie(e)})):(null==(l=ol.value)?void 0:l.isFourMeme)?Ve(ol.value,Qe.value).then((async e=>{Ze.value={...e,isFourMeme:!0},re.value=e.swapInfo,re.value.gasValue=e.gasValue,re.value.swapRouterPath=nl.value})).catch((e=>{Ie(e)})):(null==(a=ol.value)?void 0:a.isERC314)?Ee(ol.value).then((async e=>{Ze.value={...e,isERC314:!0},re.value=e.swapInfo,re.value.gasValue=e.gasValue,re.value.swapRouterPath=nl.value})).catch((e=>{Ie(e)})):(null==(n=ol.value)?void 0:n.isDyorswapfun)?Ue(ol.value,Qe.value).then((async e=>{Ze.value={...e,isDyorswapfun:!0},re.value=e.swapInfo,re.value.gasValue=e.gasValue,re.value.swapRouterPath=nl.value})).catch((e=>{Ie(e)})):(null==(o=ol.value)?void 0:o.isXflapswap)?De(ol.value,Qe.value).then((async e=>{Ze.value={...e,isXflapswap:!0},re.value=e.swapInfo,re.value.gasValue=e.gasValue,re.value.swapRouterPath=nl.value})).catch((e=>{Ie(e)})):(null==(u=null==(t=ol.value)?void 0:t.routerPath)?void 0:u.length)>0&&(Be(ol.value,Qe.value).then((async e=>{Ze.value=e,re.value=e.swapInfo,re.value.gasValue=e.gasValue,re.value.swapRouterPath=nl.value})).catch((e=>{Ie(e)})),Pl(),Rl()))}),3e3)}()})).catch((l=>{Ie(l),e?vl.value="":dl.value=""})).finally((()=>{setTimeout((()=>{F.value=!1,Tl()}),800)}))}}(e,I.chain||"")}),500)):F.value=!1)}let Nl={};function $l(){const e=y.fromToken.chain,l=y.fromToken.address+"-"+e,a=y.toToken.address+"-"+e;return sessionStorage.swap_tokenPrice===l+"-"+a?(se.value=[0,0],"solana"===e?ee.value=0:"ton"===e?te.value=0:"sui"===e&&(oe.value=0)):sessionStorage.swap_tokenPrice=l+"-"+a,Se([l,a]).then((async l=>{var a,n;const o=(null==(a=null==l?void 0:l[0])?void 0:a.current_price_usd)||0,t=(null==(n=null==l?void 0:l[1])?void 0:n.current_price_usd)||0;se.value=[o,t];const u=dl.value||0,s=vl.value||0,i=Math.abs(Number(u)*o/(Number(s)*t)-1);"solana"===e?ee.value=i:"ton"===e?te.value=i:"sui"===e&&(oe.value=i)}))}function Fl(){if(!I.provider)return!0;const e=y.fromToken.balance||0,l=(y.isPump||y.isMoonshot)&&"So11111111111111111111111111111111111111112"!==y.token2.address,a=(y.isFourMeme||y.isFlap||y.isDyorswapfun||y.isXflapswap)&&y.token2.address!==_,n=y.isSunPump>0&&y.token2.address!==_;return!(0===Number(e)||Number(e)<Number(dl.value)||!I.provider||"0"===String(dl.value)||y.token1.address===y.token2.address||l||a||n)}let Cl=null;function Pl(){const e=y.token1.chain,l=y.token2.chain,a=I.chain;a&&a===e&&a===l&&Oe(a).then((e=>{me.value=e}))}function Rl(){const e=I.chain;if("solana"===e)return;const l=y.token1.chain,a=y.token2.chain;e&&l===a&&e===l&&He(e).then((e=>{ce.value=(null==e?void 0:e.toString())||"0"})).catch((e=>{ce.value="0"}))}function Ml(e=tl.value){var l,a,n,o,t,u,s;const i=e[rl.value],r=e[rl.value].routerPath,d=R.value,v=y.fromToken.decimals,c=y.toToken.decimals;let m=!1;if(d){m=ke((null==(l=new X(dl.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${v}})?`)))?void 0:l[0])||"0",v).toFixed(0)===((null==(a=r[0])?void 0:a.amount)||0)}else{m=ke((null==(n=new X(vl.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${c}})?`)))?void 0:n[0])||"0",c).toFixed(0)===((null==(o=r[r.length-1])?void 0:o.amount)||0)}if(!m)return;if(1===i.from_cannot_sell_all){const e=new X(ke(String(y.fromToken.balance),null==(t=y.fromToken)?void 0:t.decimals).toFixed(0)),l=new X(null==i?void 0:i.routerPath[0].amount);q.value=e.gt(0)&&l.div(e).gt(.99999)}else q.value=!1;Z.value=((null==i?void 0:i.totalTax)||0)>0||((null==i?void 0:i.total_sell_tax)||0)>0||((null==i?void 0:i.total_buy_tax)||0)>0;const p=function(e){if(!Number(dl.value)&&!Number(vl.value))return new X(0);const l=e.routerPath,a=(null==l?void 0:l.length)>0?null==l?void 0:l[0]:null,n=(null==l?void 0:l.length)>0?null==l?void 0:l[l.length-1]:null;if(a&&n){const l=e.from_price,o=e.to_price,t=K(a.amount,a.decimals),u=K(n.amount,n.decimals);return new X(t).times(l).div(new X(u).times(o)).minus(1).abs().times(100)}return new X(0)}(i);if(Z.value||p.gt(.5)){Q.value=((null==i?void 0:i.total_sell_tax)||0)+((null==i?void 0:i.total_buy_tax)||0)+1>49.99;const e=i.totalTax||(i.total_sell_tax||0)+(i.total_buy_tax||0),l=Number(p);if("auto"===D.value){let a=e+l+(e>5||l>5?2.5:2);a=Math.max(Math.min(a,49.99),.5),U.value=String(Number(a.toFixed(2)))}}else Q.value=!1,"auto"===D.value&&(U.value=zn);if(ol.value=i,nl.value=r.map(((e,l)=>{var a,n;return{symbol:e.symbol,nextAmm:(null==(n=null==(a=null==i?void 0:i.pair_path)?void 0:a[l])?void 0:n.amm)||""}})),J.value=tl.value.map((e=>{var l;let a=0,n=0;if(R.value){const n=e.routerPath[e.routerPath.length-1];a=K(n.amount||"0",(null==n?void 0:n.decimals)||(null==(l=y.toToken)?void 0:l.decimals))}else{const l=e.routerPath[0];n=K(l.amount||"0",(null==l?void 0:l.decimals)||y.fromToken.decimals)}return{path:e.routerPath.map(((l,a)=>{var n,o;return{symbol:l.symbol,nextAmm:(null==(o=null==(n=null==e?void 0:e.pair_path)?void 0:n[a])?void 0:o.amm)||""}})),amount:R.value?a:n,priceImpact:e.priceImpact}})),R.value){const e=r[r.length-1];vl.value=K(e.amount||"0",(null==e?void 0:e.decimals)||(null==(u=y.toToken)?void 0:u.decimals))}else{const e=r[0];dl.value=K(e.amount||"0",(null==e?void 0:e.decimals)||(null==(s=y.fromToken)?void 0:s.decimals))}m&&setTimeout((()=>{F.value=!1,Tl()}),800)}function Vl(){var e,l,a;const n=I.chain,o=Object.keys(je).concat(["solana","sui"]),t=y.token1.chain,u=y.token2.chain;return!(t&&!(null==(e=null==o?void 0:o.includes)?void 0:e.call(o,t)))&&(!(u&&!(null==(l=null==o?void 0:o.includes)?void 0:l.call(o,u)))&&(!!n&&(!(n&&!(null==(a=null==o?void 0:o.includes)?void 0:a.call(o,n)))&&(n===t&&n===u))))}function El(){var e,l,a,n;if(1===y.activeTab){if(Number(U.value)>Number(null==(e=y.baseTokenExtra)?void 0:e.sell_tax)+1)return;const a=Math.max(Math.min(Number(null==(l=y.baseTokenExtra)?void 0:l.sell_tax)+1,49.99),.5);U.value=String(Number(a.toFixed(2)))}else{if(Number(U.value)>Number(null==(a=y.baseTokenExtra)?void 0:a.buy_tax)+1)return;const e=Math.max(Math.min(Number(null==(n=y.baseTokenExtra)?void 0:n.buy_tax)+1,49.99),.5);U.value=String(Number(e.toFixed(2)))}}function Ul(){var e,l,a,n,o;const t=I.chain,u=Object.keys(je).concat(["solana","sui"]),s=d(t),r=(null==s?void 0:s.name)||"",v=y.token1.chain,c=y.token2.chain,m=null==(e=d(v))?void 0:e.name,p=null==(l=d(c))?void 0:l.name;return v&&!(null==(a=null==u?void 0:u.includes)?void 0:a.call(u,v))?i("noSupportChain",{chain:m}):c&&!(null==(n=null==u?void 0:u.includes)?void 0:n.call(u,c))?i("noSupportChain",{chain:p}):t&&!(null==(o=null==u?void 0:u.includes)?void 0:o.call(u,t))?i("noSupportChain",{chain:r}):t!==v&&v||t!==c&&c?i("chainNotSame1"):v!==c?i("tokenNoSameChain"):void 0}function Dl(){try{if(!I.provider)return void(I.provider||H.alert(i("browserWalletNotDetected"),i("tips"),{confirmButtonText:i("confirm")}));if(!Vl())return;const e=I.chain;if(e!==(y.token1.chain||y.token2.chain||e))return void H.alert(i("plsSwitchChain",{chain:e}),i("tips"),{confirmButtonText:i("confirm")});2===y.swapType&&(ml.value=1,Ge.value?Hl():async function(){var e,l;E.value=!0;let a=y.isFourMeme?null==(l=null==(e=ol.value)?void 0:e.quoteResult)?void 0:l.tokenManager:ue(M.value);const n=["","TTfvyrAz86hbZk5iDpKD78pqLGgi8C7AAw","TZFs5ch1R1C4mmjwrrmZqeqbUgGpxY1yWB"][y.isSunPump];a=n||a,"xlayer"===I.chain&&y.isDyorswapfun&&(a="0xfd947a61e2c54413031ddb1f754dbe0e696efa09");"xlayer"===I.chain&&y.isXflapswap&&(a="0xb30d8c4216e1f21f27444d2ffaee3ad577808678");"gatelayer"===I.chain&&y.isDyorswapfun&&(a="0xC5d6974951201FB5f20C0efB4B6BEF5cf8FF1617");Le(y.fromToken.address,a).then((e=>e.wait())).then((e=>{xl()})).catch((e=>{Ie(e)})).finally((()=>{E.value=!1}))}())}catch(e){}}function Ol(){const e=y.fromToken.balance||0,l=(y.isPump||y.isMoonshot)&&"So11111111111111111111111111111111111111112"!==y.token2.address,a=(y.isFourMeme||y.isFlap||y.isDyorswapfun||y.isXflapswap)&&y.token2.address!==_,n=y.isSunPump>0&&y.token2.address!==_,o=I.address;return o?o&&!I.provider?i("observeAddressNotSwap"):y.isERC314&&y.token2.address!==_||l||a||n?i("ERC314Tips"):0===Number(e)||Number(e)<Number(dl.value)||!o?i("insufficientBalance"):"0"===String(dl.value)?i("AmountCannotBeZero"):void 0:i("pConnectWallet")}function Hl(e=!0){var l,a,n,o,t,u,s,r,d,v,c,m;if(Cl&&(clearTimeout(Cl),Cl=null),Fl())if("sui"===y.chain){const u=null==(t=null==(o=null==(n=null==(a=null==(l=null==de?void 0:de.routes)?void 0:l[0])?void 0:a.hops)?void 0:n[0])?void 0:o.pool)?void 0:t.type,s=[y.fromToken,y.toToken].map(((e,l)=>({symbol:e.symbol,nextAmm:0===l&&u||""})));re.value={swapRouterPath:s,fromAmount:dl.value,toAmount:vl.value,fromToken:y.fromToken,toToken:y.toToken,isAmountOut:!1},e&&(pl.value=!0),nl.value=s}else if("solana"===y.chain){const l=[y.fromToken,y.toToken].map((e=>({symbol:e.symbol,nextAmm:""})));re.value={swapRouterPath:l,fromAmount:dl.value,toAmount:vl.value,fromToken:y.fromToken,toToken:y.toToken,isAmountOut:!1},e&&(pl.value=!0)}else((null==(u=ol.value)?void 0:u.isSunPump)||0)>0?(V.value=!0,Me(ol.value,Qe.value).then((async l=>{var a;Ze.value={...l,isSunPump:null==(a=ol.value)?void 0:a.isSunPump},re.value=l.swapInfo,re.value.gasValue=l.gasValue,re.value.swapRouterPath=nl.value,V.value=!1,e&&(pl.value=!0)})).catch((e=>{V.value=!1,Ie(e)})),Pl(),Rl()):(null==(s=ol.value)?void 0:s.isFourMeme)?(V.value=!0,Ve(ol.value,Qe.value).then((async l=>{Ze.value={...l,isFourMeme:!0},re.value=null==l?void 0:l.swapInfo,re.value.gasValue=(null==l?void 0:l.gasValue)||"0",re.value.swapRouterPath=nl.value,V.value=!1,e&&(pl.value=!0)})).catch((e=>{V.value=!1,Ie(e)})),Pl(),Rl()):(null==(r=ol.value)?void 0:r.isERC314)?(V.value=!0,Ee(ol.value).then((async l=>{Ze.value={...l,isERC314:!0},re.value=l.swapInfo,re.value.gasValue=l.gasValue,re.value.swapRouterPath=nl.value,V.value=!1,e&&(pl.value=!0)})).catch((e=>{V.value=!1,Ie(e)})),Pl(),Rl()):(null==(d=ol.value)?void 0:d.isDyorswapfun)?(V.value=!0,Ue(ol.value,Qe.value).then((async l=>{Ze.value={...l,isDyorswapfun:!0},re.value=null==l?void 0:l.swapInfo,re.value.gasValue=(null==l?void 0:l.gasValue)||"0",re.value.swapRouterPath=nl.value,V.value=!1,e&&(pl.value=!0)})).catch((e=>{V.value=!1,Ie(e)})),Pl(),Rl()):(null==(v=ol.value)?void 0:v.isXflapswap)?(V.value=!0,De(ol.value,Qe.value).then((async l=>{Ze.value={...l,isXflapswap:!0},re.value=null==l?void 0:l.swapInfo,re.value.gasValue=(null==l?void 0:l.gasValue)||"0",re.value.swapRouterPath=nl.value,V.value=!1,e&&(pl.value=!0)})).catch((e=>{V.value=!1,Ie(e)})),Pl(),Rl()):(null==(m=null==(c=ol.value)?void 0:c.routerPath)?void 0:m.length)>0&&(V.value=!0,Be(ol.value,Qe.value).then((async l=>{Ze.value=l,re.value={...l.swapInfo,fromToken:{...l.swapInfo.fromToken,...y.fromToken},toToken:{...l.swapInfo.fromToken,...y.toToken},fromAmount:dl.value,toAmount:vl.value,isAmountOut:l.swapInfo.isAmountOut||!1},re.value.gasValue=l.gasValue,re.value.swapRouterPath=nl.value,V.value=!1,e&&(pl.value=!0)})).catch((e=>{V.value=!1,Ie(e)})),Pl(),Rl());else H.alert(Ol(),i("tips"),{confirmButtonText:i("okay")})}function jl(e,l){H.alert(l,e,{confirmButtonText:i("getIt")}).then((()=>{}))}function Ll(){var e,l,a,n;if(!dl.value||!vl.value)return"--";let o=dl.value,t=vl.value;if(Z.value){let u=(null==(e=ol.value)?void 0:e.totalTax)||((null==(l=ol.value)?void 0:l.total_sell_tax)||0)+((null==(a=ol.value)?void 0:a.total_buy_tax)||0);u=Math.min(49,u),(null==(n=ol.value)?void 0:n.isAmountOut)?o=new X(o).times(100+u).div(100):t=new X(t).times(100-u).div(100)}const u=["solana","sui"].includes(M.value),s=u?se.value[0]:ol.value.from_price,i=u?se.value[1]:ol.value.to_price;return s&&i?0===y.activeTab?S(Number(dl.value||0)/Number(vl.value)/(i/s)*i):1===y.activeTab?S(Number(vl.value||0)/Number(dl.value)/(s/i)*s):void 0:"--"}function Wl(e){Y.value=!1,rl.value=e,Ml()}async function zl(e=Ze.value){try{if("solana"===M.value)return void async function(){try{ml.value=1,ie.value=!0,V.value=!0;const e=re.value,l={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:Number(K(e.fromTokenAmount||0,e.fromToken.decimals)),to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:Number(K(e.toTokenAmount||0,e.toToken.decimals)),chain:I.chain,transaction:"",wallet_address:I.address};setTimeout((()=>{pl.value||(V.value=!1,ie.value=!1)}),6e3),We(ve.value).then((a=>{var n,o;return re.value.transaction=a.hash,ul({chain:"solana",destination:"true"===localStorage.solanaProtection?"v1/blxrsol/sendSolTx":"/ave_nodes/rpc/solana/sendFastSwapTx",type:10,tx_hash:a.hash,status:1,wallet:I.address,out_token:l.to_address,out_amount:e.toAmount,in_token:l.from_address,in_amount:e.fromAmount}),V.value=!1,ie.value=!1,dl.value="",vl.value="",null==(o=null==(n=G.value)?void 0:n.handleClick)||o.call(n,0),ml.value=3,a.wait()})).then((e=>{var l;return e&&(sl({chain:"solana",tx_hash:null==(l=null==e?void 0:e.transaction)?void 0:l.signatures[0],status:100}),y.getTokenDetails(),y.getUserTokenList()),e})).catch((e=>{"Timeout"===(e||(null==e?void 0:e.message))?ze({type:"error",message:i("timeout_error")}):"Swap fail"===(e||(null==e?void 0:e.message))?ze({type:"error",message:i("swapFail")}):Ie(e,"solana"),hl(),V.value=!1,ie.value=!1}))}catch(e){V.value=!1,ie.value=!1,Ie(e,"solana")}}();if("sui"===M.value)return void async function(){try{ie.value=!0,V.value=!0,ml.value=2;const e=re.value,l={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:null==e?void 0:e.fromAmount,from_decimals:null==e?void 0:e.fromToken.decimals,to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:null==e?void 0:e.toAmount,to_decimals:null==e?void 0:e.toToken.decimals,chain:"sui",transaction:"",wallet_address:I.address};setTimeout((()=>{pl.value||(V.value=!1,ie.value=!1)}),6e3);const a=!0;qe({quoteResponse:de.value,slippage:new X(W.value).div(100).toNumber()}).then((e=>Xe((null==e?void 0:e.tx)||e))).then((e=>{var n,o;return(null==e?void 0:e.digest)?(re.value.transaction=e.digest,a&&(l.transaction=e.digest,ul({chain:"sui",destination:"wallet rpc",type:10,tx_hash:e.digest,status:1,wallet:I.address,out_token:l.to_address,out_amount:re.value.toAmount,in_token:l.from_address,in_amount:re.value.fromAmount})),V.value=!1,ie.value=!1,dl.value="",vl.value="",null==(o=null==(n=G.value)?void 0:n.handleClick)||o.call(n,0),ml.value=3,e.wait()):Promise.reject("Swap fail")})).then((e=>{if(e.digest)return sl({chain:"sui",tx_hash:null==e?void 0:e.digest,status:100}),ze({type:"success",message:i("tradeSuccess")}),y.getTokenDetails(),y.getUserTokenList(),e})).catch((e=>{ml.value=1,V.value=!1,ie.value=!1,Ie(e,"solana"),hl()}))}catch(e){ml.value=1,V.value=!1,ie.value=!1,Ie(e,"solana")}}();ie.value=!0,V.value=!0;await e.swapCallStatic();const l=e.swapInfo,a=(l.fromToken.isWrapper&&l.toToken.isETH||l.toToken.isWrapper&&l.fromToken.isETH,{from_address:l.fromToken.address,from_symbol:l.fromToken.symbol,from_amount:Number(K(l.fromTokenAmount||0,l.fromToken.decimals)),to_address:l.toToken.address,to_symbol:l.toToken.symbol,to_amount:Number(K(l.toTokenAmount||0,l.toToken.decimals)),chain:M.value,transaction:"",wallet_address:I.address});ml.value=2,Ze.value.swap().then((e=>{var n,o;return re.value.transaction=e.hash,ul({chain:M.value,destination:"wallet rpc",type:10,tx_hash:e.hash,status:1,wallet:I.address,out_token:a.to_address,out_amount:Number(K(l.toTokenAmount||0,l.toToken.decimals)),in_token:a.from_address,in_amount:Number(K(l.fromTokenAmount||0,l.fromToken.decimals))}),V.value=!1,ie.value=!1,dl.value="",vl.value="",null==(o=null==(n=G.value)?void 0:n.handleClick)||o.call(n,0),ml.value=3,e.wait()})).then((e=>{var l,a;return sl({chain:M.value,tx_hash:e.hash,status:100,to:(null==(a=null==(l=null==e?void 0:e.to)?void 0:l.toLowerCase)?void 0:a.call(l))||""}),rl.value=0,tl.value=[],setTimeout((()=>{y.getTokenDetails(),y.getUserTokenList(),xl(),"tron"!==y.token1.chain&&"tron"!==y.token2.chain||setTimeout((()=>{y.getTokenDetails()}),3e3)}),1e3),e})).catch((e=>{ml.value=1,hl(),V.value=!1,ie.value=!1,Ie(e,"swap")}))}catch(l){V.value=!1,ie.value=!1,Ie(l,"swap")}}return N([()=>y.fromToken.address,()=>I.address],(()=>{y.fromToken.address&&xl()})),N([()=>y.fromToken.address,()=>y.toToken.address],(()=>{dl.value="",vl.value="",rl.value=0,hl()})),(e,l)=>{var a,n,i,d,k,x,A;const N=P,H=B,q=g;return t(),o(u,null,[v("form",{class:"swap-container",action:"",onSubmit:w(Dl,["prevent","stop"])},[v("div",kn,[v("div",bn,[T(Bl,{token:r(y).token1,"onUpdate:token":[l[0]||(l[0]=e=>r(y).token1=e),yl],tokens:r(y).swapTokens,chain:r(y).chain},null,8,["token","tokens","chain"]),l[26]||(l[26]=v("span",{style:{flex:"1"}},null,-1)),v("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${r(S)((null==(a=r(y).token1)?void 0:a.balance)||0)}`},null,8,hn),1===r(y).activeTab?(t(),o("button",{key:0,class:"max-btn",type:"button",onClick:l[1]||(l[1]=w((e=>wl(100)),["stop"]))},c(e.$t("max")),1)):b("",!0)]),v("div",Tn,[0===r(y).activeTab?(t(),p(N,{key:0,modelValue:r(vl),"onUpdate:modelValue":[l[2]||(l[2]=e=>C(vl)?vl.value=e:null),l[3]||(l[3]=e=>{var l;vl.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Sl()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",readonly:r(fl),onFocus:l[4]||(l[4]=e=>{var l;return null==(l=r(G))?void 0:l.handleClick(0,!0)})},null,8,["modelValue","readonly"])):b("",!0),1===r(y).activeTab?(t(),p(N,{key:1,modelValue:r(dl),"onUpdate:modelValue":[l[5]||(l[5]=e=>C(dl)?dl.value=e:null),l[6]||(l[6]=e=>{var l;dl.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),_l()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:l[7]||(l[7]=e=>{var l;return null==(l=r(G))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])):b("",!0)])]),v("div",yn,[v("div",gn,[T(Bl,{token:r(y).token2,"onUpdate:token":[l[8]||(l[8]=e=>r(y).token2=e),gl],tokens:r(y).swapTokens,chain:r(y).chain},null,8,["token","tokens","chain"]),l[27]||(l[27]=v("span",{style:{flex:"1"}},null,-1)),v("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${r(S)(r(y).token2.balance||0)}`},null,8,xn),0===r(y).activeTab?(t(),o("button",{key:0,class:"max-btn",type:"button",onClick:l[9]||(l[9]=w((e=>wl(100)),["stop"]))},c(e.$t("max")),1)):b("",!0)]),v("div",wn,[1===r(y).activeTab?(t(),p(N,{key:0,modelValue:r(vl),"onUpdate:modelValue":[l[10]||(l[10]=e=>C(vl)?vl.value=e:null),l[11]||(l[11]=e=>{var l;vl.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Sl()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",readonly:r(fl),onFocus:l[12]||(l[12]=e=>{var l;return null==(l=r(G))?void 0:l.handleClick(0,!0)})},null,8,["modelValue","readonly"])):b("",!0),0===r(y).activeTab?(t(),p(N,{key:1,modelValue:r(dl),"onUpdate:modelValue":[l[13]||(l[13]=e=>C(dl)?dl.value=e:null),l[14]||(l[14]=e=>{var l;dl.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),_l()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:l[15]||(l[15]=e=>{var l;return null==(l=r(G))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])):b("",!0)])]),T(fn,{ref:"percentStepInf",activeColor:0===r(y).activeTab?("upColor"in e?e.upColor:r(be))[0]:("downColor"in e?e.downColor:r(he))[0],onChange:wl},null,8,["activeColor"]),r(I).address?r(I).address&&!r(I).provider?(t(),p(H,{key:1,"native-type":"button",class:"submit-btn",disabled:"",color:"#555555"},{default:f((()=>[O(c(e.$t("watchWalletNotSwap")),1)])),_:1})):Vl()?r(Ge)?(t(),p(H,{key:4,class:"submit-btn",loading:r(V)||r(F)||r($),color:r(ll),disabled:r(Je)&&(null==(i=null==(n=r(Je))?void 0:n.gt)?void 0:i.call(n,.4))||!Fl()||!r(dl)||!r(vl),"native-type":"submit"},{default:f((()=>{var l,a,n,s,i;return[0===Number(r(y).fromToken.balance)||Number(r(y).fromToken.balance)<Number(r(dl))||""===r(I).address||(r(y).isERC314||r(y).isFourMeme||r(y).isFlap||r(y).isSunPump>0||r(y).isDyorswapfun||r(y).isXflapswap)&&r(y).token2.address!==("NATIVE_TOKEN"in e?e.NATIVE_TOKEN:r(_))||(r(y).isPump||r(y).isMoonshot)&&"So11111111111111111111111111111111111111112"!==r(y).token2.address?(t(),o("span",_n,c(Ol()),1)):r(Je)&&(null==(a=null==(l=r(Je))?void 0:l.gt)?void 0:a.call(l,.4))?(t(),o("span",Sn,c(e.$t("priceImpactTooHigh")),1)):(t(),o(u,{key:2},[v("span",null,c(r(Je)&&(null==(s=null==(n=r(Je))?void 0:n.gt)?void 0:s.call(n,.1))?0===r(y).activeTab?e.$t("buyAnyway"):e.$t("sellAnyway"):0===r(y).activeTab?e.$t("buy"):e.$t("sell"))+" "+c((null==(i=r(y).token1)?void 0:i.symbol)||""),1),r(al)?(t(),o("span",{key:0,style:{"font-size":"12px"},innerHTML:r(al)},null,8,In)):b("",!0)],64))]})),_:1},8,["loading","color","disabled"])):(t(),p(H,{key:3,class:"submit-btn",color:r(ll),"native-type":"submit",loading:r(E)||r(V)||r($),disabled:Number(r(y).fromToken.balance)<Number(r(dl))},{default:f((()=>{var l,a;return[O(c(0===Number(r(y).fromToken.balance)||Number(r(y).fromToken.balance)<Number(r(dl))||""===r(I).address?r(Je)&&(null==(a=null==(l=r(Je))?void 0:l.gt)?void 0:a.call(l,.4))?e.$t("priceImpactTooHigh"):Ol()||e.$t("approve"):e.$t("approve")),1)]})),_:1},8,["color","loading","disabled"])):(t(),p(H,{key:2,"native-type":"button",class:"submit-btn",disabled:"",color:"#555555"},{default:f((()=>[O(c(Ul()),1)])),_:1})):(t(),p(H,{key:0,"native-type":"button",class:"submit-btn",color:"#286DFF",onClick:l[16]||(l[16]=w((l=>("useBotStore"in e?e.useBotStore:r(ye))().changeConnectVisible(!0,1)),["stop"]))},{default:f((()=>[O(c(e.$t("pConnectWallet")),1)])),_:1})),v("ul",An,[v("li",Nn,[v("span",null,c(e.$t("slippage")),1),T(q,{class:"ml-2px color-[--secondary-text]! clickable",name:"material-symbols:help-outline",onClick:l[17]||(l[17]=w((l=>jl(e.$t("slippage"),e.$t("minimumReceivedTips"))),["stop"]))}),l[28]||(l[28]=v("span",{style:{flex:"1"}},null,-1)),"solana"===r(M)?(t(),p(Gl,{key:0,slippage:r(L),"onUpdate:slippage":l[18]||(l[18]=e=>C(L)?L.value=e:null),canSetAuto:!1},null,8,["slippage"])):"sui"===r(M)?(t(),p(Gl,{key:1,slippage:r(W),"onUpdate:slippage":l[19]||(l[19]=e=>C(W)?W.value=e:null),canSetAuto:!1},null,8,["slippage"])):(t(),p(Gl,{key:2,slippage:r(D),"onUpdate:slippage":l[20]||(l[20]=e=>C(D)?D.value=e:null),autoSlippage:r(U)},null,8,["slippage","autoSlippage"]))]),h(v("li",null,[v("div",$n,[v("span",null,c(e.$t("estimatedAveragePrice")),1)]),v("div",Fn,[v("span",null,"$"+c(Ll()),1)])],512),[[j,r(dl)&&r(vl)]]),h(v("li",null,[v("div",Cn,[v("span",null,c(e.$t("priceImpact")),1),v("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:l[21]||(l[21]=w((l=>jl(e.$t("priceImpact"),e.$t("priceImpactTips"))),["stop"]))})]),v("div",{style:z({color:r(el)})},c(r(Ye))+c(r(Je)&&(null==(k=null==(d=r(Je))?void 0:d.gt)?void 0:k.call(d,.05))?`(${e.$t("excessivePriceImpact")})`:""),5)],512),[[j,r(dl)&&r(vl)&&!r(y).isDyorswapfun]]),h(v("li",null,[v("div",Pn,[v("span",null,c(e.$t("tokenRoute")),1),v("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:l[22]||(l[22]=w((l=>jl(e.$t("tokenRoute"),e.$t("tokenRouteTips"))),["stop"]))})]),"solana"===r(M)||"sui"===r(M)?(t(),o("div",Rn,[(t(!0),o(u,null,s([r(y).fromToken,r(y).toToken],((e,l)=>(t(),o(u,{key:l},[0!==l?(t(),o("img",Mn)):b("",!0),e.symbol?(t(),o("span",Vn,c(e.symbol),1)):b("",!0)],64)))),128))])):1===(null==(x=r(ol))?void 0:x.toWrapper)||2===(null==(A=r(ol))?void 0:A.toWrapper)?(t(),o("div",En,[(t(!0),o(u,null,s(r(nl),((e,l)=>(t(),o(u,{key:l},[0!==l?(t(),o("img",Un)):b("",!0),e.symbol?(t(),o("span",Dn,c(e.symbol),1)):b("",!0)],64)))),128))])):(t(),o("div",{key:2,class:"path-list clickable",onClick:l[23]||(l[23]=w((e=>!r(y).isFourMeme&&!r(y).isSunPump&&(Y.value=!0)),["stop","prevent"]))},[(t(!0),o(u,null,s(r(nl),((e,a)=>(t(),o(u,{key:a},[e.symbol?(t(),o("span",Bn,c(e.symbol),1)):b("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(t(),o("div",On,[v("img",{class:"icon-amm-logo rounded",src:`${r(m).token_logo_url}swap/${e.nextAmm}.jpeg`,alt:"",srcset:"",onerror:"this.src='/icon-default.png'"},null,8,Hn),l[29]||(l[29]=v("img",{style:{width:"15px",margin:"1px 5px 0"},src:cl,alt:"",srcset:""},null,-1))])):b("",!0)],64)))),128)),r(J).length>0?(t(),o("i",jn)):b("",!0)]))],512),[[j,r(dl)&&r(vl)]]),"solana"!==r(M)&&"tron"!==r(M)&&"sui"!==r(M)&&Number(r(Ke))>0?(t(),o("li",Ln,[v("div",Wn,c(e.$t("estimatedGas")),1),v("div",null,"≈ $"+c(r(Ke)),1)])):b("",!0)])],32),T(ra,{visible:r(Y),"onUpdate:visible":l[24]||(l[24]=e=>C(Y)?Y.value=e:null),listRouter:r(J),isAmount:r(R),selectedRouterIndex:r(rl),onGetSelectedRouter:Wl},null,8,["visible","listRouter","isAmount","selectedRouterIndex"]),T(dn,{visible:r(pl),"onUpdate:visible":l[25]||(l[25]=e=>C(pl)?pl.value=e:null),swapInfo:r(re),swapQuoteInfo:r(ol),slippage:"solana"===r(M)?r(L):"ton"===r(M)||"sui"===r(M)?r(W):r(Qe),loading:r(ie),chain:r(M),nativePrice:r(me),gasPrice:r(ce),activeShow:r(ml),onSubmit:zl},null,8,["visible","swapInfo","swapQuoteInfo","slippage","loading","chain","nativePrice","gasPrice","activeShow"])],64)}}}),[["__scopeId","data-v-a69b3fe4"]]),Xn=e({__name:"swap",setup(e){const l=vn(),a=Ke((()=>Qe((()=>import("./drAD_v2S.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]),import.meta.url))),s=n((()=>0===l.swapType||1===l.swapType?a:qn));return(e,a)=>(t(),o(u,null,[T(vl,{tab:r(l).swapType,"onUpdate:tab":a[0]||(a[0]=e=>r(l).swapType=e)},null,8,["tab"]),(t(),p(Ze(r(s))))],64))}}),Kn=e({__name:"index",setup(e){const a=l(),n=vn(),u=le();return N([()=>{var e;return(null==(e=u.token)?void 0:e.token)||""},()=>a.chain,()=>a.address],(()=>{var e;(null==(e=u.token)?void 0:e.token)&&n.init()})),Ge((()=>{n.init()})),(e,l)=>(t(),o("div",null,[T(dl,{activeTab:r(n).activeTab,"onUpdate:activeTab":l[0]||(l[0]=e=>r(n).activeTab=e)},null,8,["activeTab"]),T(Xn)]))}}),Zn=Object.freeze(Object.defineProperty({__proto__:null,default:Kn},Symbol.toStringTag,{value:"Module"}));export{fn as P,Bl as S,Gl as a,Zn as i,vn as u};
